/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={155(e,t,o){"use strict";const n=o(427),r=o(527),i=o(128);e.exports=function e(t,o){switch(r(t)){case"object":return function(t,o){if("function"==typeof o)return o(t);if(o||i(t)){const n=new t.constructor;for(let r in t)n[r]=e(t[r],o);return n}return t}(t,o);case"array":return function(t,o){const n=new t.constructor(t.length);for(let r=0;r<t.length;r++)n[r]=e(t[r],o);return n}(t,o);default:return n(t)}}},300(e,t,o){"use strict";o.d(t,{A:()=>a});var n=o(601),r=o.n(n),i=o(314),s=o.n(i)()(r());s.push([e.id,":host{display:block;height:100%;width:100%}.sidebar-container{display:flex;flex-direction:column;height:100%;background:var(--bs-body-bg)}.sidebar-header{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-bottom:1px solid var(--bs-border-color);background:var(--bs-tertiary-bg)}.sidebar-header .sidebar-title{font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:0.5px;color:var(--bs-secondary-color)}.sidebar-header .btn-close-sidebar{padding:2px 4px;opacity:0.5;background:none;border:none;color:var(--bs-body-color);cursor:pointer;line-height:1}.sidebar-header .btn-close-sidebar:hover{opacity:1}.protocol-tabs{display:flex;padding:6px 10px;gap:4px;border-bottom:1px solid var(--bs-border-color);background:var(--bs-body-bg)}.protocol-tabs .protocol-tab{flex:1;padding:4px 0;font-size:11px;font-weight:500;text-align:center;border:1px solid var(--bs-border-color);border-radius:4px;background:transparent;color:var(--bs-secondary-color);cursor:pointer;transition:all 0.15s ease}.protocol-tabs .protocol-tab:hover{background:var(--bs-tertiary-bg);color:var(--bs-body-color)}.protocol-tabs .protocol-tab.active{background:var(--bs-primary);color:#fff;border-color:var(--bs-primary)}.sidebar-search-bar{display:flex;align-items:center;padding:8px 10px;gap:6px;border-bottom:1px solid var(--bs-border-color)}.sidebar-search-bar .search-input{flex:1;padding:4px 8px;font-size:12px;background:var(--bs-tertiary-bg);border:1px solid var(--bs-border-color);border-radius:4px;color:var(--bs-body-color);outline:none}.sidebar-search-bar .search-input:focus{border-color:var(--bs-primary)}.sidebar-search-bar .search-input::placeholder{color:var(--bs-secondary-color)}.sidebar-search-bar .btn-add{padding:4px 8px;font-size:12px;background:var(--bs-tertiary-bg);border:1px solid var(--bs-border-color);border-radius:4px;color:var(--bs-body-color);cursor:pointer;line-height:1}.sidebar-search-bar .btn-add:hover{background:var(--bs-primary);color:#fff;border-color:var(--bs-primary)}.sidebar-sort-bar{display:flex;align-items:center;justify-content:space-between;padding:4px 10px;border-bottom:1px solid var(--bs-border-color);font-size:11px}.sidebar-sort-bar .sort-label{color:var(--bs-secondary-color);font-weight:500}.sidebar-sort-bar .sort-options{display:flex;gap:2px}.sidebar-sort-bar .sort-options .sort-btn{padding:2px 6px;font-size:10px;border:1px solid transparent;border-radius:3px;background:transparent;color:var(--bs-secondary-color);cursor:pointer}.sidebar-sort-bar .sort-options .sort-btn:hover{background:var(--bs-tertiary-bg);color:var(--bs-body-color)}.sidebar-sort-bar .sort-options .sort-btn.active{background:var(--bs-primary);color:#fff;border-color:var(--bs-primary)}.sidebar-list{flex:1;overflow-y:auto;overflow-x:hidden}.sidebar-list::-webkit-scrollbar{width:4px}.sidebar-list::-webkit-scrollbar-thumb{background:var(--bs-secondary-bg);border-radius:2px}.group-header{display:flex;align-items:center;padding:6px 10px;font-size:12px;font-weight:600;color:var(--bs-secondary-color);background:var(--bs-tertiary-bg);cursor:pointer;user-select:none;border-bottom:1px solid var(--bs-border-color)}.group-header:hover{background:var(--bs-secondary-bg)}.group-header .group-chevron{width:14px;font-size:10px;margin-right:6px;transition:transform 0.15s ease}.group-header .group-chevron.collapsed{transform:rotate(-90deg)}.group-header .group-name{flex:1}.group-header .group-badge{font-size:10px;padding:1px 6px;border-radius:8px;background:var(--bs-secondary-bg);color:var(--bs-secondary-color)}.connection-item{display:flex;align-items:center;padding:7px 10px 7px 8px;cursor:pointer;border-left:2px solid transparent;transition:background 0.12s ease, border-color 0.12s ease}.connection-item:hover{background:var(--bs-tertiary-bg)}.connection-item:hover .hover-actions{opacity:1}.connection-item.active{background:var(--bs-primary-bg-subtle);border-left-color:var(--bs-primary);border-left-width:3px;padding-left:7px}.connection-item .protocol-stripe{width:2px;height:28px;border-radius:1px;margin-right:8px;flex-shrink:0}.connection-item .conn-icon{width:1.25rem;flex-shrink:0;margin-right:8px}.connection-item .conn-info{flex:1;min-width:0}.connection-item .conn-info .conn-name{font-size:13px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.connection-item .conn-info .conn-desc{font-size:11px;color:var(--bs-secondary-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.connection-item .protocol-badge{font-size:9px;font-weight:600;padding:1px 5px;border-radius:3px;color:#fff;margin-left:6px;flex-shrink:0}.connection-item .hover-actions{opacity:0;transition:opacity 0.12s ease;margin-left:4px;flex-shrink:0}.connection-item .hover-actions .btn-launch{padding:2px 4px;background:none;border:none;color:var(--bs-body-color);cursor:pointer;font-size:11px}.connection-item .hover-actions .btn-launch:hover{color:var(--bs-primary)}.sidebar-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center;color:var(--bs-secondary-color)}.sidebar-empty p{margin:0 0 6px;font-weight:500;font-size:13px}.sidebar-empty small{font-size:11px}.context-menu{position:fixed;background:var(--bs-body-bg);border:1px solid var(--bs-border-color);border-radius:6px;box-shadow:0 4px 16px rgba(0,0,0,0.35);z-index:10000;min-width:200px;padding:4px 0;font-size:13px}.context-menu-item{display:flex;align-items:center;gap:10px;padding:7px 14px;cursor:pointer;color:var(--bs-body-color);transition:background 0.12s ease}.context-menu-item:hover{background:var(--bs-tertiary-bg)}.context-menu-item.danger{color:var(--bs-danger)}.context-menu-item.danger:hover{background:var(--bs-danger);color:#fff}.context-menu-item i{width:14px;text-align:center;font-size:12px}.context-menu-divider{height:1px;background:var(--bs-border-color);margin:4px 0}\n",""]);const a=s},314(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o}).join("")},t.i=function(e,o,n,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var p=[].concat(e[l]);n&&s[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),o&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=o):p[2]=o),r&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=r):p[4]="".concat(r)),t.push(p))}},t}},601(e){"use strict";e.exports=function(e){return e[1]}},128(e,t,o){"use strict";var n=o(798);function r(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,o;return!1!==r(e)&&"function"==typeof(t=e.constructor)&&!1!==r(o=t.prototype)&&!1!==o.hasOwnProperty("isPrototypeOf")}},798(e){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},527(e){var t=Object.prototype.toString;function o(e){return"function"==typeof e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var n=typeof e;if("boolean"===n)return"boolean";if("string"===n)return"string";if("number"===n)return"number";if("symbol"===n)return"symbol";if("function"===n)return"GeneratorFunction"===o(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){return!(!e.constructor||"function"!=typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(o(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(n=t.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return n.slice(8,-1).toLowerCase().replace(/\s/g,"")}},427(e,t,o){"use strict";const n=Symbol.prototype.valueOf,r=o(527);e.exports=function(e,t){switch(r(e)){case"array":return e.slice();case"object":return Object.assign({},e);case"date":return new e.constructor(Number(e));case"map":return new Map(e);case"set":return new Set(e);case"buffer":return function(e){const t=e.length,o=Buffer.allocUnsafe?Buffer.allocUnsafe(t):Buffer.from(t);return e.copy(o),o}(e);case"symbol":return function(e){return n?Object(n.call(e)):{}}(e);case"arraybuffer":return function(e){const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}(e);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function(e){return new e.constructor(e.buffer,e.byteOffset,e.length)}(e);case"regexp":return function(e){const t=void 0!==e.flags?e.flags:/\w+$/.exec(e)||void 0,o=new e.constructor(e.source,t);return o.lastIndex=e.lastIndex,o}(e);case"error":return Object.create(e);default:return e}}},225(e,t,o){"use strict";o.r(t),o.d(t,{default:()=>m});var n=o(72),r=o.n(n),i=o(825),s=o.n(i),a=o(659),c=o.n(a),l=o(56),p=o.n(l),d=o(159),f=o.n(d),u=o(113),h=o.n(u),b=o(300),g={};g.styleTagTransform=h(),g.setAttributes=p(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=f(),r()(b.A,g);const m=b.A&&b.A.locals?b.A.locals:void 0},72(e){"use strict";var t=[];function o(e){for(var o=-1,n=0;n<t.length;n++)if(t[n].identifier===e){o=n;break}return o}function n(e,n){for(var i={},s=[],a=0;a<e.length;a++){var c=e[a],l=n.base?c[0]+n.base:c[0],p=i[l]||0,d="".concat(l," ").concat(p);i[l]=p+1;var f=o(d),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(u);else{var h=r(u,n);n.byIndex=a,t.splice(a,0,{identifier:d,updater:h,references:1})}s.push(d)}return s}function r(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,r){var i=n(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=o(i[s]);t[a].references--}for(var c=n(e,r),l=0;l<i.length;l++){var p=o(i[l]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}i=c}}},659(e){"use strict";var t={};e.exports=function(e,o){var n=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},159(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56(e,t,o){"use strict";e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},825(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var r=void 0!==o.layer;r&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,r&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var i=o.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},583(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionItemComponent=void 0;const i=o(430),s=o(903);let a=class{constructor(){this.description=null,this.active=!1,this.showBadge=!0,this.launch=new i.EventEmitter,this.contextMenu=new i.EventEmitter}getProtocolColor(){const e=this.profile?.type;return s.PROTOCOL_META[e]?.color||"#6b7280"}getProtocolLabel(){const e=this.profile?.type;return s.PROTOCOL_META[e]?.label||e?.toUpperCase()||""}};t.ConnectionItemComponent=a,n([(0,i.Input)(),r("design:type",Object)],a.prototype,"profile",void 0),n([(0,i.Input)(),r("design:type",String)],a.prototype,"description",void 0),n([(0,i.Input)(),r("design:type",Object)],a.prototype,"active",void 0),n([(0,i.Input)(),r("design:type",Object)],a.prototype,"showBadge",void 0),n([(0,i.Output)(),r("design:type",Object)],a.prototype,"launch",void 0),n([(0,i.Output)(),r("design:type",Object)],a.prototype,"contextMenu",void 0),t.ConnectionItemComponent=a=n([(0,i.Component)({selector:"connection-item",template:'\n        <div class="connection-item"\n             [class.active]="active"\n             (click)="launch.emit()"\n             (contextmenu)="contextMenu.emit($event)">\n            <div class="protocol-stripe"\n                 [style.background]="getProtocolColor()">\n            </div>\n            <profile-icon class="conn-icon"\n                          [icon]="profile.icon"\n                          [color]="profile.color">\n            </profile-icon>\n            <div class="conn-info">\n                <div class="conn-name">{{ profile.name }}</div>\n                <div class="conn-desc" *ngIf="description">{{ description }}</div>\n            </div>\n            <span class="protocol-badge"\n                  *ngIf="showBadge"\n                  [style.background]="getProtocolColor()">\n                {{ getProtocolLabel() }}\n            </span>\n            <div class="hover-actions">\n                <button class="btn-launch"\n                        (click)="$event.stopPropagation(); launch.emit()"\n                        title="Launch">\n                    <i class="fas fa-play"></i>\n                </button>\n            </div>\n        </div>\n    '})],a)},991(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RdpEditModalComponent=void 0;const i=o(430),s=o(368);let a=class{constructor(e){this.config=e,this.profileId=null,this.saved=new i.EventEmitter,this.cancelled=new i.EventEmitter,this.name="",this.group="",this.editMode=!1,this.options={host:"",port:3389,username:"",domain:"",fullscreen:!1,width:void 0,height:void 0,admin:!1}}ngOnInit(){if(this.profileId){this.editMode=!0;const e=(this.config.store.profiles||[]).find(e=>e.id===this.profileId);e&&(this.name=e.name||"",this.group=e.group||"",this.options={...this.options,...e.options})}}save(){if(!this.options.host)return;const e=this.config.store.profiles=this.config.store.profiles||[];if(this.editMode&&this.profileId){const t=e.findIndex(e=>e.id===this.profileId);t>=0&&(e[t].name=this.name||`RDP: ${this.options.host}`,e[t].group=this.group||void 0,e[t].options={...this.options})}else e.push({type:"rdp",name:this.name||`RDP: ${this.options.host}`,group:this.group||void 0,options:{...this.options}});this.config.save(),this.saved.emit()}cancel(){this.cancelled.emit()}};t.RdpEditModalComponent=a,n([(0,i.Input)(),r("design:type",String)],a.prototype,"profileId",void 0),n([(0,i.Output)(),r("design:type",Object)],a.prototype,"saved",void 0),n([(0,i.Output)(),r("design:type",Object)],a.prototype,"cancelled",void 0),t.RdpEditModalComponent=a=n([(0,i.Component)({selector:"rdp-edit-modal",template:'\n        <div class="rdp-modal-backdrop" (click)="cancel()">\n            <div class="rdp-modal" (click)="$event.stopPropagation()">\n                <div class="rdp-modal-header">\n                    <span>{{ editMode ? \'Edit\' : \'New\' }} RDP Connection</span>\n                    <button class="btn-modal-close" (click)="cancel()">\n                        <i class="fas fa-times"></i>\n                    </button>\n                </div>\n                <div class="rdp-modal-body">\n                    <div class="form-group">\n                        <label>Name</label>\n                        <input class="form-control form-control-sm" [(ngModel)]="name" placeholder="Connection name">\n                    </div>\n                    <div class="form-row">\n                        <div class="form-group flex-grow">\n                            <label>Host</label>\n                            <input class="form-control form-control-sm" [(ngModel)]="options.host" placeholder="hostname or IP">\n                        </div>\n                        <div class="form-group" style="width:80px">\n                            <label>Port</label>\n                            <input class="form-control form-control-sm" type="number" [(ngModel)]="options.port">\n                        </div>\n                    </div>\n                    <div class="form-row">\n                        <div class="form-group flex-grow">\n                            <label>Username</label>\n                            <input class="form-control form-control-sm" [(ngModel)]="options.username" placeholder="optional">\n                        </div>\n                        <div class="form-group flex-grow">\n                            <label>Domain</label>\n                            <input class="form-control form-control-sm" [(ngModel)]="options.domain" placeholder="optional">\n                        </div>\n                    </div>\n                    <div class="form-group">\n                        <label>Group</label>\n                        <input class="form-control form-control-sm" [(ngModel)]="group" placeholder="optional">\n                    </div>\n                    <div class="form-check-row">\n                        <label class="form-check">\n                            <input type="checkbox" [(ngModel)]="options.fullscreen"> Fullscreen\n                        </label>\n                        <label class="form-check">\n                            <input type="checkbox" [(ngModel)]="options.admin"> Admin mode\n                        </label>\n                    </div>\n                    <div class="form-row" *ngIf="!options.fullscreen">\n                        <div class="form-group" style="width:100px">\n                            <label>Width</label>\n                            <input class="form-control form-control-sm" type="number" [(ngModel)]="options.width" placeholder="1920">\n                        </div>\n                        <div class="form-group" style="width:100px">\n                            <label>Height</label>\n                            <input class="form-control form-control-sm" type="number" [(ngModel)]="options.height" placeholder="1080">\n                        </div>\n                    </div>\n                </div>\n                <div class="rdp-modal-footer">\n                    <button class="btn btn-sm btn-secondary" (click)="cancel()">Cancel</button>\n                    <button class="btn btn-sm btn-primary" (click)="save()" [disabled]="!options.host">Save</button>\n                </div>\n            </div>\n        </div>\n    ',styles:["\n        .rdp-modal-backdrop {\n            position: fixed;\n            inset: 0;\n            background: rgba(0,0,0,0.5);\n            z-index: 10001;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n        .rdp-modal {\n            background: var(--bs-body-bg);\n            border: 1px solid var(--bs-border-color);\n            border-radius: 8px;\n            width: 380px;\n            box-shadow: 0 8px 32px rgba(0,0,0,0.4);\n        }\n        .rdp-modal-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 12px 16px;\n            border-bottom: 1px solid var(--bs-border-color);\n            font-weight: 600;\n            font-size: 14px;\n        }\n        .btn-modal-close {\n            background: none;\n            border: none;\n            color: var(--bs-body-color);\n            cursor: pointer;\n            opacity: 0.6;\n            &:hover { opacity: 1; }\n        }\n        .rdp-modal-body {\n            padding: 14px 16px;\n            display: flex;\n            flex-direction: column;\n            gap: 10px;\n        }\n        .form-group {\n            display: flex;\n            flex-direction: column;\n            gap: 3px;\n            label { font-size: 11px; font-weight: 500; color: var(--bs-secondary-color); }\n        }\n        .form-row {\n            display: flex;\n            gap: 8px;\n        }\n        .flex-grow { flex: 1; }\n        .form-check-row {\n            display: flex;\n            gap: 16px;\n            font-size: 12px;\n            .form-check { display: flex; align-items: center; gap: 4px; cursor: pointer; }\n        }\n        .rdp-modal-footer {\n            display: flex;\n            justify-content: flex-end;\n            gap: 8px;\n            padding: 10px 16px;\n            border-top: 1px solid var(--bs-border-color);\n        }\n    "]}),r("design:paramtypes",[s.ConfigService])],a)},961(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RdpTabComponent=void 0;const i=o(430),s=o(368),a=o(462);let c=class extends s.BaseTabComponent{constructor(e,t){super(e),this.rdpService=t,this.statusMessage="",this.setTitle("RDP")}ngOnInit(){this.setTitle(`RDP: ${this.getHost()}`),this.launchRdp()}getHost(){return this.profile?.options?.host||"unknown"}reconnect(){this.launchRdp()}launchRdp(){this.statusMessage="Launching mstsc.exe...";try{this.rdpService.launch(this.profile),this.statusMessage="External RDP client launched"}catch(e){this.statusMessage=`Failed: ${e}`}}};t.RdpTabComponent=c,n([(0,i.Input)(),r("design:type",Object)],c.prototype,"profile",void 0),t.RdpTabComponent=c=n([(0,i.Component)({selector:"rdp-tab",template:'\n        <div class="rdp-tab-container">\n            <div class="rdp-tab-header">\n                <i class="fas fa-desktop"></i>\n                <span>RDP Connection</span>\n            </div>\n            <div class="rdp-tab-info">\n                <p>RDP session launched to <strong>{{ getHost() }}</strong></p>\n                <div class="rdp-tab-details" *ngIf="profile?.options">\n                    <div *ngIf="profile.options.username">User: {{ profile.options.username }}</div>\n                    <div>Port: {{ profile.options.port || 3389 }}</div>\n                    <div *ngIf="profile.options.domain">Domain: {{ profile.options.domain }}</div>\n                    <div *ngIf="profile.options.fullscreen">Mode: Fullscreen</div>\n                    <div *ngIf="profile.options.admin">Admin session</div>\n                </div>\n            </div>\n            <div class="rdp-tab-actions">\n                <button class="btn btn-primary" (click)="reconnect()">\n                    <i class="fas fa-redo"></i> Reconnect\n                </button>\n            </div>\n            <div class="rdp-tab-status" *ngIf="statusMessage">\n                {{ statusMessage }}\n            </div>\n        </div>\n    ',styles:["\n        .rdp-tab-container {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 100%;\n            gap: 20px;\n            color: var(--bs-body-color);\n        }\n        .rdp-tab-header {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            font-size: 24px;\n            font-weight: 600;\n        }\n        .rdp-tab-header i { color: #3b82f6; }\n        .rdp-tab-info { text-align: center; }\n        .rdp-tab-details {\n            margin-top: 10px;\n            font-size: 13px;\n            color: var(--bs-secondary-color);\n        }\n        .rdp-tab-status {\n            font-size: 12px;\n            color: var(--bs-secondary-color);\n        }\n    "]}),r("design:paramtypes",[i.Injector,a.RdpService])],c)},52(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsTabComponent=void 0;const i=o(430),s=o(368),a=o(903);let c=class{constructor(e){this.config=e,this.configKey=a.CONFIG_KEY}};t.SettingsTabComponent=c,t.SettingsTabComponent=c=n([(0,i.Component)({selector:"aio-settings-tab",template:'\n        <div class="aio-settings">\n            <h3>Connection Sidebar Settings</h3>\n\n            \x3c!-- Appearance --\x3e\n            <h5>Appearance</h5>\n            <div class="form-group">\n                <label>Sidebar position</label>\n                <select class="form-control form-control-sm" [(ngModel)]="config.store[configKey].position" (ngModelChange)="config.save()">\n                    <option value="left">Left</option>\n                    <option value="right">Right</option>\n                </select>\n            </div>\n            <div class="form-group">\n                <label>Sidebar width (px)</label>\n                <input class="form-control form-control-sm" type="number" [(ngModel)]="config.store[configKey].width" (ngModelChange)="config.save()">\n            </div>\n            <div class="form-group">\n                <div class="form-check">\n                    <input type="checkbox" class="form-check-input" [(ngModel)]="config.store[configKey].showProtocolBadge" (ngModelChange)="config.save()">\n                    <label class="form-check-label">Show protocol badge</label>\n                </div>\n            </div>\n            <div class="form-group">\n                <label>Group by</label>\n                <select class="form-control form-control-sm" [(ngModel)]="config.store[configKey].groupBy" (ngModelChange)="config.save()">\n                    <option value="group">Custom group</option>\n                    <option value="protocol">Protocol type</option>\n                </select>\n            </div>\n\n            \x3c!-- Behavior --\x3e\n            <h5>Behavior</h5>\n            <div class="form-group">\n                <label>Default sort</label>\n                <select class="form-control form-control-sm" [(ngModel)]="config.store[configKey].sortBy" (ngModelChange)="config.save()">\n                    <option value="name">Name</option>\n                    <option value="host">Host</option>\n                    <option value="recent">Recent</option>\n                    <option value="type">Type</option>\n                </select>\n            </div>\n            <div class="form-group">\n                <label>Default protocol filter</label>\n                <select class="form-control form-control-sm" [(ngModel)]="config.store[configKey].protocolFilter" (ngModelChange)="config.save()">\n                    <option value="all">All</option>\n                    <option value="ssh">SSH</option>\n                    <option value="telnet">Telnet</option>\n                    <option value="rdp">RDP</option>\n                </select>\n            </div>\n            <div class="form-group">\n                <div class="form-check">\n                    <input type="checkbox" class="form-check-input" [(ngModel)]="config.store[configKey].showInToolbar" (ngModelChange)="config.save()">\n                    <label class="form-check-label">Show toolbar button</label>\n                </div>\n            </div>\n\n            \x3c!-- RDP --\x3e\n            <h5>RDP</h5>\n            <div class="form-group">\n                <label>RDP client path</label>\n                <input class="form-control form-control-sm" [(ngModel)]="config.store[configKey].rdpClientPath" (ngModelChange)="config.save()" placeholder="mstsc.exe">\n            </div>\n        </div>\n    ',styles:["\n        .aio-settings {\n            padding: 20px;\n            max-width: 600px;\n        }\n        h3 { margin-bottom: 20px; }\n        h5 {\n            margin-top: 20px;\n            margin-bottom: 10px;\n            padding-bottom: 6px;\n            border-bottom: 1px solid var(--bs-border-color);\n            font-size: 14px;\n            font-weight: 600;\n        }\n        .form-group {\n            margin-bottom: 12px;\n            label {\n                font-size: 12px;\n                margin-bottom: 4px;\n                display: block;\n            }\n        }\n        .form-control-sm { max-width: 300px; }\n    "]}),r("design:paramtypes",[s.ConfigService])],c)},540(e,t,o){"use strict";var n,r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,n){t(o,n,e)}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarComponent=void 0;const c=o(430),l=o(368),p=o(607),d=o(437),f=a(o(155)),u=o(903),h=o(462);let b=class extends l.BaseComponent{constructor(e,t,o,n,r,i,s){super(),this.profiles=e,this.app=t,this.config=o,this.translate=n,this.platform=r,this.rdpService=i,this.profileProviders=s,this.hostClass=!0,this.allProfiles=[],this.profileGroups=[],this.filter="",this.sortBy="name",this.protocolFilter="all",this.showProtocolBadge=!0,this.pinnedProfiles=[],this.groupBy="group",this.ctxVisible=!1,this.ctxPos={x:0,y:0},this.ctxProfile=null,this.sidebarService=null,this.destroy$=new p.Subject,this.configGroups=[]}onDocumentClick(){this.ctxVisible=!1}async ngOnInit(){this.loadConfig(),this.configGroups=this.config.store.groups||[],await this.refreshProfiles(),this.config.changed$.pipe((0,d.takeUntil)(this.destroy$),(0,d.debounceTime)(300)).subscribe(async()=>{this.loadConfig(),this.configGroups=this.config.store.groups||[],await this.refreshProfiles()}),this.app.tabsChanged$.pipe((0,d.takeUntil)(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadConfig(){const e=this.config.store[u.CONFIG_KEY]||{};this.sortBy=e.sortBy||"name",this.protocolFilter=e.protocolFilter||"all",this.showProtocolBadge=!1!==e.showProtocolBadge,this.pinnedProfiles=e.pinnedProfiles||[],this.groupBy=e.groupBy||"group"}saveConfigField(e,t){this.config.store[u.CONFIG_KEY]||(this.config.store[u.CONFIG_KEY]={}),this.config.store[u.CONFIG_KEY][e]=t,this.config.save()}async refreshProfiles(){const e=await this.profiles.getProfiles();this.allProfiles=e.filter(e=>!(!u.SUPPORTED_PROTOCOLS.includes(e.type)||e.isTemplate||"ssh"===e.type&&!e.options?.host||"telnet"===e.type&&!e.options?.host||"rdp"===e.type&&!e.options?.host)),await this.rebuildGroups()}async rebuildGroups(){await this.sortProfiles();let e=this.allProfiles;"all"!==this.protocolFilter&&(e=e.filter(e=>e.type===this.protocolFilter));const t=JSON.parse(window.localStorage.profileGroupCollapsed??"{}");"protocol"===this.groupBy?this.profileGroups=this.buildProtocolGroups(e,t):this.profileGroups=this.buildCustomGroups(e,t)}buildCustomGroups(e,t){const o={};for(const t of e){const e=t.group||"ungrouped";o[e]||(o[e]=[]),o[e].push(t)}let n=Object.entries(o).map(([e,o])=>{let n=e;if("ungrouped"===e)n="Ungrouped";else{const t=this.configGroups.find(t=>t.id===e);t&&(n=t.name)}return{id:e,name:n,profiles:o,collapsed:t[e]??!1}});if(this.pinnedProfiles.length>0){const o=e.filter(e=>e.id&&this.pinnedProfiles.includes(e.id));o.length>0&&(n.forEach(e=>{e.profiles=e.profiles.filter(e=>!e.id||!this.pinnedProfiles.includes(e.id))}),n.unshift({id:"favorites",name:"⭐ Favorites",profiles:o,collapsed:t.favorites??!1}))}return n=n.filter(e=>e.profiles.length>0),n.sort((e,t)=>"favorites"===e.id?-1:"favorites"===t.id||"ungrouped"===e.id?1:"ungrouped"===t.id?-1:e.name.localeCompare(t.name)),n}buildProtocolGroups(e,t){const o={};for(const t of e){const e=t.type||"unknown";o[e]||(o[e]=[]),o[e].push(t)}let n=[];if(this.pinnedProfiles.length>0){const r=e.filter(e=>e.id&&this.pinnedProfiles.includes(e.id));if(r.length>0){for(const e of Object.keys(o))o[e]=o[e].filter(e=>!e.id||!this.pinnedProfiles.includes(e.id));n.push({id:"favorites",name:"⭐ Favorites",profiles:r,collapsed:t.favorites??!1})}}for(const[e,r]of Object.entries(o)){if(0===r.length)continue;const o=u.PROTOCOL_META[e];n.push({id:`proto-${e}`,name:o?.label||e.toUpperCase(),profiles:r,collapsed:t[`proto-${e}`]??!1})}return n}async sortProfiles(){if("recent"===this.sortBy){const e=(await this.profiles.getRecentProfiles()).map(e=>e.id);this.allProfiles.sort((t,o)=>{const n=this.isActiveConnection(t),r=this.isActiveConnection(o);if(n&&!r)return-1;if(!n&&r)return 1;const i=e.indexOf(t.id),s=e.indexOf(o.id);return-1!==i&&-1!==s?i-s:-1!==i?-1:-1!==s?1:t.name.localeCompare(o.name)})}else if("type"===this.sortBy){const e={ssh:0,telnet:1,rdp:2};this.allProfiles.sort((t,o)=>{const n=e[t.type]??99,r=e[o.type]??99;return n!==r?n-r:t.name.localeCompare(o.name)})}else this.allProfiles.sort((e,t)=>"host"===this.sortBy?(e.options?.host||"").localeCompare(t.options?.host||""):e.name.localeCompare(t.name))}setProtocolFilter(e){this.protocolFilter=e,this.saveConfigField("protocolFilter",e),this.rebuildGroups()}async setSortOrder(e){this.sortBy=e,this.saveConfigField("sortBy",e),await this.rebuildGroups()}onFilterChange(){}isGroupVisible(e){return!this.filter||e.profiles.some(e=>this.isProfileVisible(e))}isProfileVisible(e){return!this.filter||(e.name+"$"+(this.getDescription(e)??"")).toLowerCase().includes(this.filter.toLowerCase())}hasVisibleProfiles(){return this.profileGroups.some(e=>this.isGroupVisible(e))}getGroupVisibleCount(e){return this.filter?e.profiles.filter(e=>this.isProfileVisible(e)).length:e.profiles.length}getCountText(){let e=this.allProfiles;"all"!==this.protocolFilter&&(e=e.filter(e=>e.type===this.protocolFilter));const t=e.length,o=e.filter(e=>this.isActiveConnection(e)).length;return 0===o?`${t} connection${1!==t?"s":""}`:`${t} connections (${o} active)`}getDescription(e){if(this.profiles.getDescription)return this.profiles.getDescription(e);const t=e.options;if(!t)return null;if("ssh"===e.type){const e=t.user||"root",o=t.host||"",n=t.port||22;return`${e}@${o}${22!==n?":"+n:""}`}if("telnet"===e.type){const e=t.host||"",o=t.port||23;return`${e}${23!==o?":"+o:""}`}if("rdp"===e.type){const e=t.username||"",o=t.host||"",n=t.port||3389;return`${e?`${e}@`:""}${o}${3389!==n?":"+n:""}`}return null}isActiveConnection(e){return this.app.tabs.some(t=>{const o=t.profile;return o&&o.id===e.id})}isProfilePinned(e){return!!e.id&&this.pinnedProfiles.includes(e.id)}toggleGroupCollapse(e){if(0===e.profiles.length)return;e.collapsed=!e.collapsed;const t=JSON.parse(window.localStorage.profileGroupCollapsed??"{}");t[e.id]=e.collapsed,window.localStorage.profileGroupCollapsed=JSON.stringify(t)}launchProfile(e){this.profiles.openNewTabForProfile?this.profiles.openNewTabForProfile(e):this.profiles.launchProfile(e)}closeSidebar(){this.sidebarService&&this.sidebarService.hide()}openNewRdp(){this.sidebarService?.openRdpModal&&this.sidebarService.openRdpModal()}onContextMenu(e,t){e.preventDefault(),e.stopPropagation(),this.ctxProfile=t,this.ctxPos={x:e.clientX,y:e.clientY},this.ctxVisible=!0}ctxLaunch(){this.ctxProfile&&this.launchProfile(this.ctxProfile),this.ctxVisible=!1}async ctxEdit(){if(!this.ctxProfile)return void(this.ctxVisible=!1);const e=this.ctxProfile.name;try{const{SettingsTabComponent:t}=window.nodeRequire("tabby-settings"),o=this.app.tabs.find(e=>e instanceof t);if(o){this.app.selectTab(o);const e=o;"profiles"!==e.activeTab&&(e.activeTab="profiles")}else this.app.openNewTabRaw({type:t,inputs:{activeTab:"profiles"}});await new Promise(e=>setTimeout(e,500));for(let t=0;t<5;t++){t>0&&await new Promise(e=>setTimeout(e,200));const o=document.querySelectorAll(".list-group-item.ps-5");for(const t of Array.from(o)){const o=t.querySelector(".no-wrap");if(o?.textContent?.trim()===e)return o.click(),void(this.ctxVisible=!1)}}}catch(e){}this.ctxVisible=!1}async ctxDuplicate(){if(!this.ctxProfile)return void(this.ctxVisible=!1);const e=(0,f.default)(this.ctxProfile);delete e.id,e.name=this.translate.instant("{name} copy",this.ctxProfile),e.isBuiltin=!1,e.isTemplate=!1,this.config.store.profiles=this.config.store.profiles||[],this.config.store.profiles.push(e),await this.config.save(),await this.refreshProfiles(),this.ctxVisible=!1}ctxCopyCommand(){if(!this.ctxProfile)return void(this.ctxVisible=!1);const e=this.ctxProfile;let t="";if("ssh"===e.type){const o=e.options?.user||"root",n=e.options?.host||"",r=e.options?.port||22;t=`ssh ${o}@${n}${22!==r?" -p "+r:""}`}else"telnet"===e.type?t=`telnet ${e.options?.host||""} ${e.options?.port||23}`:"rdp"===e.type&&(t=`mstsc /v:${e.options?.host||""}:${e.options?.port||3389}`);t&&this.platform.setClipboard({text:t}),this.ctxVisible=!1}ctxExportRdp(){if(!this.ctxProfile||"rdp"!==this.ctxProfile.type)return void(this.ctxVisible=!1);const e=this.rdpService.generateRdpFileContent(this.ctxProfile);this.platform.setClipboard({text:e}),this.ctxVisible=!1}async ctxPin(){this.ctxProfile?.id?(this.pinnedProfiles.includes(this.ctxProfile.id)||(this.pinnedProfiles.push(this.ctxProfile.id),this.saveConfigField("pinnedProfiles",this.pinnedProfiles),await this.rebuildGroups()),this.ctxVisible=!1):this.ctxVisible=!1}async ctxUnpin(){this.ctxProfile?.id?(this.pinnedProfiles=this.pinnedProfiles.filter(e=>e!==this.ctxProfile.id),this.saveConfigField("pinnedProfiles",this.pinnedProfiles),await this.rebuildGroups(),this.ctxVisible=!1):this.ctxVisible=!1}async ctxDelete(){this.ctxProfile&&!this.ctxProfile.isBuiltin?(0===(await this.platform.showMessageBox({type:"warning",message:this.translate.instant('Delete "{name}"?',this.ctxProfile),buttons:[this.translate.instant("Delete"),this.translate.instant("Cancel")],defaultId:1,cancelId:1})).response&&(this.config.store.profiles=this.config.store.profiles.filter(e=>e.id!==this.ctxProfile.id),await this.config.save(),await this.refreshProfiles()),this.ctxVisible=!1):this.ctxVisible=!1}};t.SidebarComponent=b,r([(0,c.HostBinding)("class.aio-sidebar"),i("design:type",Object)],b.prototype,"hostClass",void 0),r([(0,c.HostListener)("document:click"),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],b.prototype,"onDocumentClick",null),t.SidebarComponent=b=r([(0,c.Component)({selector:"aio-sidebar",styles:[o(225)],template:'\n        <div class="sidebar-container">\n            \x3c!-- Header --\x3e\n            <div class="sidebar-header">\n                <span class="sidebar-title">Connections</span>\n                <button class="btn-close-sidebar" (click)="closeSidebar()" title="Close">\n                    <i class="fas fa-times"></i>\n                </button>\n            </div>\n\n            \x3c!-- Protocol filter tabs --\x3e\n            <div class="protocol-tabs">\n                <button class="protocol-tab"\n                        [class.active]="protocolFilter === \'all\'"\n                        (click)="setProtocolFilter(\'all\')">All</button>\n                <button class="protocol-tab"\n                        [class.active]="protocolFilter === \'ssh\'"\n                        (click)="setProtocolFilter(\'ssh\')">SSH</button>\n                <button class="protocol-tab"\n                        [class.active]="protocolFilter === \'telnet\'"\n                        (click)="setProtocolFilter(\'telnet\')">Tel</button>\n                <button class="protocol-tab"\n                        [class.active]="protocolFilter === \'rdp\'"\n                        (click)="setProtocolFilter(\'rdp\')">RDP</button>\n            </div>\n\n            \x3c!-- Search + Add --\x3e\n            <div class="sidebar-search-bar">\n                <input class="search-input"\n                       type="search"\n                       placeholder="Search..."\n                       [(ngModel)]="filter"\n                       (input)="onFilterChange()">\n                <button class="btn-add" (click)="openNewRdp()" title="New RDP connection">\n                    <i class="fas fa-plus"></i>\n                </button>\n            </div>\n\n            \x3c!-- Sort bar --\x3e\n            <div class="sidebar-sort-bar">\n                <span class="sort-label">{{ getCountText() }}</span>\n                <div class="sort-options">\n                    <button class="sort-btn" [class.active]="sortBy===\'name\'" (click)="setSortOrder(\'name\')">Name</button>\n                    <button class="sort-btn" [class.active]="sortBy===\'host\'" (click)="setSortOrder(\'host\')">Host</button>\n                    <button class="sort-btn" [class.active]="sortBy===\'recent\'" (click)="setSortOrder(\'recent\')">Recent</button>\n                    <button class="sort-btn" [class.active]="sortBy===\'type\'" (click)="setSortOrder(\'type\')">Type</button>\n                </div>\n            </div>\n\n            \x3c!-- Profile list --\x3e\n            <div class="sidebar-list">\n                <ng-container *ngFor="let group of profileGroups">\n                    <ng-container *ngIf="isGroupVisible(group)">\n                        <div class="group-header" (click)="toggleGroupCollapse(group)">\n                            <i class="fas fa-chevron-down group-chevron"\n                               [class.collapsed]="group.collapsed"\n                               *ngIf="group.profiles.length > 0"></i>\n                            <span class="group-name">{{ group.name }}</span>\n                            <span class="group-badge">{{ getGroupVisibleCount(group) }}</span>\n                        </div>\n                        <ng-container *ngIf="!group.collapsed">\n                            <ng-container *ngFor="let p of group.profiles">\n                                <connection-item\n                                    *ngIf="isProfileVisible(p)"\n                                    [profile]="p"\n                                    [description]="getDescription(p)"\n                                    [active]="isActiveConnection(p)"\n                                    [showBadge]="showProtocolBadge"\n                                    (launch)="launchProfile(p)"\n                                    (contextMenu)="onContextMenu($event, p)">\n                                </connection-item>\n                            </ng-container>\n                        </ng-container>\n                    </ng-container>\n                </ng-container>\n\n                \x3c!-- Empty state --\x3e\n                <div *ngIf="!hasVisibleProfiles()" class="sidebar-empty">\n                    <div *ngIf="allProfiles.length === 0">\n                        <p>No connections found</p>\n                        <small>Create profiles in Tabby settings</small>\n                    </div>\n                    <div *ngIf="allProfiles.length > 0">\n                        <p>No matches found</p>\n                        <small>Try a different filter</small>\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- Context menu --\x3e\n            <div class="context-menu"\n                 *ngIf="ctxVisible"\n                 [style.left.px]="ctxPos.x"\n                 [style.top.px]="ctxPos.y">\n\n                <div class="context-menu-item" (click)="ctxLaunch()">\n                    <i class="fas fa-fw fa-play"></i><span>Launch</span>\n                </div>\n                <div class="context-menu-item" (click)="ctxEdit()">\n                    <i class="fas fa-fw fa-edit"></i><span>Edit</span>\n                </div>\n                <div class="context-menu-item" (click)="ctxDuplicate()">\n                    <i class="fas fa-fw fa-copy"></i><span>Duplicate</span>\n                </div>\n\n                \x3c!-- Protocol-specific copy commands --\x3e\n                <div class="context-menu-item" *ngIf="ctxProfile?.type === \'ssh\'" (click)="ctxCopyCommand()">\n                    <i class="fas fa-fw fa-terminal"></i><span>Copy SSH Command</span>\n                </div>\n                <div class="context-menu-item" *ngIf="ctxProfile?.type === \'telnet\'" (click)="ctxCopyCommand()">\n                    <i class="fas fa-fw fa-terminal"></i><span>Copy Telnet Command</span>\n                </div>\n                <div class="context-menu-item" *ngIf="ctxProfile?.type === \'rdp\'" (click)="ctxCopyCommand()">\n                    <i class="fas fa-fw fa-terminal"></i><span>Copy RDP Command</span>\n                </div>\n                <div class="context-menu-item" *ngIf="ctxProfile?.type === \'rdp\'" (click)="ctxExportRdp()">\n                    <i class="fas fa-fw fa-file-export"></i><span>Export .rdp File</span>\n                </div>\n\n                <div class="context-menu-divider"></div>\n\n                <div class="context-menu-item"\n                     *ngIf="ctxProfile?.id && !isProfilePinned(ctxProfile)"\n                     (click)="ctxPin()">\n                    <i class="fas fa-fw fa-thumbtack"></i><span>Pin to Favorites</span>\n                </div>\n                <div class="context-menu-item"\n                     *ngIf="ctxProfile?.id && isProfilePinned(ctxProfile)"\n                     (click)="ctxUnpin()">\n                    <i class="fas fa-fw fa-thumbtack" style="transform:rotate(45deg)"></i><span>Unpin</span>\n                </div>\n\n                <div class="context-menu-divider"></div>\n\n                <div class="context-menu-item danger"\n                     *ngIf="ctxProfile && !ctxProfile.isBuiltin"\n                     (click)="ctxDelete()">\n                    <i class="fas fa-fw fa-trash-alt"></i><span>Delete</span>\n                </div>\n            </div>\n        </div>\n    '}),s(6,(0,c.Inject)(l.ProfileProvider)),i("design:paramtypes",[l.ProfilesService,l.AppService,l.ConfigService,"function"==typeof(n=void 0!==l.TranslateService&&l.TranslateService)?n:Object,l.PlatformService,h.RdpService,Array])],b)},440(e,t,o){"use strict";var n,r=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},a=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[t.length]=o);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o=n(e),s=0;s<o.length;s++)"default"!==o[s]&&r(t,e,o[s]);return i(t,e),t}),c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const l=o(430),p=o(804),d=o(59),f=a(o(368)),u=o(262),h=o(540),b=o(583),g=o(991),m=o(52),v=o(961),y=o(452),x=o(462),P=o(627),w=o(894),C=o(826),S=o(684),R=o(903);let O=class extends f.ToolbarButtonProvider{constructor(e,t,o,n){super(),this.sidebarService=e,this.config=t,this.profiles=o,this.selector=n,this.weight=15}provide(){return!1===(this.config.store[R.CONFIG_KEY]||{}).showInToolbar?[]:[{icon:'<i class="fas fa-globe"></i>',title:"Toggle Connection Sidebar",click:()=>this.sidebarService.toggle(),submenu:async()=>[{title:this.sidebarService.visible?"Hide Sidebar":"Show Sidebar",click:()=>this.sidebarService.toggle()},{title:"Quick Connect...",click:()=>this.showQuickConnect()}]}]}async showQuickConnect(){const e=(await this.profiles.getProfiles()).filter(e=>["ssh","telnet","rdp"].includes(e.type));if(0===e.length)return;const t=e.map(e=>({name:e.name,description:this.profiles.getDescription?.(e)||"",result:e,icon:"server",weight:0}));t.sort((e,t)=>e.name.localeCompare(t.name));const o=await this.selector.show("Select Connection",t);o&&(this.profiles.openNewTabForProfile?this.profiles.openNewTabForProfile(o):this.profiles.launchProfile(o))}};O=s([(0,l.Injectable)(),c("design:paramtypes",[y.SidebarService,f.ConfigService,f.ProfilesService,f.SelectorService])],O);let k=class{constructor(e,t,o){this.sidebarService=e,this.app=t,this.hotkeys=o,this.app.ready$.subscribe(()=>{setTimeout(()=>this.sidebarService.initialize(),1e3)}),this.hotkeys.hotkey$.subscribe(e=>{"toggle-connection-sidebar"===e&&this.sidebarService.toggle()})}};k=s([(0,l.Injectable)(),c("design:paramtypes",[y.SidebarService,f.AppService,f.HotkeysService])],k);let j=class{constructor(e){}};j=s([(0,l.NgModule)({imports:[p.CommonModule,d.FormsModule,f.default],declarations:[h.SidebarComponent,b.ConnectionItemComponent,g.RdpEditModalComponent,m.SettingsTabComponent,v.RdpTabComponent],providers:[{provide:f.ToolbarButtonProvider,useClass:O,multi:!0},{provide:f.ProfileProvider,useClass:P.RDPProfileProvider,multi:!0},{provide:f.ConfigProvider,useClass:w.AioConfigProvider,multi:!0},{provide:f.HotkeyProvider,useClass:C.AioHotkeyProvider,multi:!0},{provide:u.SettingsTabProvider,useClass:S.AioSettingsTabProvider,multi:!0},y.SidebarService,x.RdpService,k]}),c("design:paramtypes",[k])],j),t.default=j},903(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG_KEY=t.SUPPORTED_PROTOCOLS=t.PROTOCOL_META=void 0,t.PROTOCOL_META={ssh:{label:"SSH",color:"#22c55e",icon:"lock"},telnet:{label:"Telnet",color:"#f59e0b",icon:"terminal"},rdp:{label:"RDP",color:"#3b82f6",icon:"desktop"}},t.SUPPORTED_PROTOCOLS=["ssh","telnet","rdp"],t.CONFIG_KEY="mingze-sidebar-aio"},894(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AioConfigProvider=void 0;const n=o(368);class r extends n.ConfigProvider{constructor(){super(...arguments),this.defaults={"mingze-sidebar-aio":{enabled:!0,position:"left",width:280,showInToolbar:!0,sidebarVisible:!0,pinnedProfiles:[],sortBy:"name",protocolFilter:"all",showProtocolBadge:!0,rdpClientPath:"mstsc.exe",groupBy:"group"},hotkeys:{"toggle-connection-sidebar":[]}}}}t.AioConfigProvider=r},826(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.AioHotkeyProvider=void 0;const r=o(430),i=o(368);let s=class extends i.HotkeyProvider{async provide(){return[{id:"toggle-connection-sidebar",name:"Toggle connection sidebar"}]}};t.AioHotkeyProvider=s,t.AioHotkeyProvider=s=n([(0,r.Injectable)()],s)},627(e,t,o){"use strict";var n,r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RDPProfileProvider=void 0;const s=o(430),a=o(368),c=o(961);let l=class extends a.ProfileProvider{constructor(e){super(),this.translate=e,this.id="rdp",this.name="RDP",this.supportsQuickConnect=!0,this.settingsComponent=null}async getBuiltinProfiles(){return[]}async getNewTabParameters(e){return{type:c.RdpTabComponent,inputs:{profile:e}}}getDescription(e){const t=e.options;if(!t?.host)return"";const o=t.username||"",n=t.host,r=t.port||3389;return`${o?`${o}@`:""}${n}${3389!==r?":"+r:""}`}quickConnect(e){let t,o=e,n=3389;if(o.startsWith("rdp://")&&(o=o.substring(6)),o.includes("@")){const e=o.split("@");t=e[0],o=e[1]}if(o.includes(":")){const e=o.split(":");o=e[0],n=parseInt(e[1],10)||3389}return{name:e,type:"rdp",options:{host:o,port:n,username:t}}}deleteProfile(e){}};t.RDPProfileProvider=l,t.RDPProfileProvider=l=r([(0,s.Injectable)(),i("design:paramtypes",["function"==typeof(n=void 0!==a.TranslateService&&a.TranslateService)?n:Object])],l)},684(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.AioSettingsTabProvider=void 0;const r=o(430),i=o(262),s=o(52);let a=class extends i.SettingsTabProvider{constructor(){super(...arguments),this.id="mingze-sidebar-aio",this.icon="globe",this.title="Connection Sidebar"}getComponentType(){return s.SettingsTabComponent}};t.AioSettingsTabProvider=a,t.AioSettingsTabProvider=a=n([(0,r.Injectable)()],a)},462(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RdpService=void 0;const i=o(430),s=o(368);let a=class{constructor(e,t,o){this.hostApp=e,this.platform=t,this.notifications=o}launch(e){if(this.hostApp.platform!==s.Platform.Windows)return void this.notifications.error("RDP is only supported on Windows (mstsc.exe)");const t=e.options,n=[];if(t.username||t.domain){const e=this.buildRdpFileContent(t),o=this.writeTempRdpFile(e);n.push(o)}else n.push(`/v:${t.host}:${t.port||3389}`);t.fullscreen&&n.push("/f"),t.width&&t.height&&!t.fullscreen&&(n.push(`/w:${t.width}`),n.push(`/h:${t.height}`)),t.admin&&n.push("/admin");const r=this.getClientPath(),{spawn:i}=o(646);i(r,n,{detached:!0,stdio:"ignore"}).unref()}buildRdpFileContent(e){const t=[`full address:s:${e.host}:${e.port||3389}`];return e.username&&t.push(`username:s:${e.username}`),e.domain&&t.push(`domain:s:${e.domain}`),e.fullscreen?t.push("screen mode id:i:2"):t.push("screen mode id:i:1"),e.width&&t.push(`desktopwidth:i:${e.width}`),e.height&&t.push(`desktopheight:i:${e.height}`),e.admin&&t.push("administrative session:i:1"),t.join("\r\n")+"\r\n"}writeTempRdpFile(e){const t=o(820),n=o(873),r=o(21),i=t.tmpdir(),s=n.join(i,`tabby-rdp-${Date.now()}.rdp`);return r.writeFileSync(s,e,"utf-8"),s}getClientPath(){return"mstsc.exe"}generateRdpFileContent(e){return this.buildRdpFileContent(e.options)}};t.RdpService=a,t.RdpService=a=n([(0,i.Injectable)({providedIn:"root"}),r("design:paramtypes",[s.HostAppService,s.PlatformService,s.NotificationsService])],a)},452(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarService=void 0;const i=o(430),s=o(368),a=o(540),c=o(903);let l=class{constructor(e,t,o,n){this.cfr=e,this.appRef=t,this.injector=o,this.config=n,this.componentRef=null,this.wrapperEl=null,this.styleEl=null,this.isVisible=!1}get visible(){return this.isVisible}get cfg(){return this.config.store[c.CONFIG_KEY]||{}}get width(){return this.cfg.width||280}get position(){return this.cfg.position||"left"}initialize(){!1!==this.cfg.sidebarVisible&&this.show()}show(){this.isVisible||(this.create(),this.saveField("sidebarVisible",!0),this.isVisible=!0)}hide(){this.isVisible&&(this.destroy(),this.saveField("sidebarVisible",!1),this.isVisible=!1)}toggle(){this.isVisible?this.hide():this.show()}openRdpModal(){}create(){const e=this.cfr.resolveComponentFactory(a.SidebarComponent);this.componentRef=e.create(this.injector),this.appRef.attachView(this.componentRef.hostView);const t=this.componentRef.hostView.rootNodes[0],o=this.width,n=this.position,r=document.createElement("div");r.className="aio-sidebar-wrapper",r.style.cssText=`\n            width: ${o}px;\n            flex: 0 0 ${o}px;\n            display: flex;\n            flex-direction: column;\n            background: var(--bs-body-bg, #1e1e1e);\n            border-${"left"===n?"right":"left"}: 1px solid var(--bs-border-color, #333);\n            box-shadow: ${"left"===n?"2px":"-2px"} 0 10px rgba(0,0,0,0.3);\n            z-index: 999;\n            order: ${"left"===n?-1:999};\n        `,r.appendChild(t);const i=document.querySelector("app-root");i&&("left"===n?i.insertBefore(r,i.firstChild):i.appendChild(r),this.wrapperEl=r,this.injectCSS(),this.fixContentWidth(i),this.componentRef.instance.sidebarService=this)}destroy(){const e=document.querySelector("app-root");e&&this.restoreContentWidth(e),this.removeCSS(),this.componentRef&&(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.componentRef=null),this.wrapperEl&&(this.wrapperEl.remove(),this.wrapperEl=null)}injectCSS(){const e=document.createElement("style");e.id="aio-sidebar-layout-css",e.textContent='\n            app-root {\n                display: flex !important;\n                flex-direction: row !important;\n                width: 100vw !important;\n                height: 100vh !important;\n                overflow: hidden !important;\n            }\n            app-root > .content,\n            app-root > div.content,\n            app-root > .content[class],\n            app-root > [class*="content"] {\n                flex: 1 1 auto !important;\n                width: 0 !important;\n                max-width: 100% !important;\n                min-width: 0 !important;\n            }\n        ',document.head.appendChild(e),this.styleEl=e}removeCSS(){this.styleEl&&(this.styleEl.remove(),this.styleEl=null)}fixContentWidth(e){const t=e.querySelectorAll(".content"),o=t.length>1?t[1]:t[0];if(o){const e=o;e.style.width="auto",e.style.flex="1 1 auto",e.style.minWidth="0"}}restoreContentWidth(e){const t=e.querySelectorAll(".content"),o=t.length>1?t[1]:t[0];if(o){const e=o;e.style.removeProperty("width"),e.style.removeProperty("flex"),e.style.removeProperty("min-width")}}saveField(e,t){this.config.store[c.CONFIG_KEY]||(this.config.store[c.CONFIG_KEY]={}),this.config.store[c.CONFIG_KEY][e]=t,this.config.save()}};t.SidebarService=l,t.SidebarService=l=n([(0,i.Injectable)({providedIn:"root"}),r("design:paramtypes",[i.ComponentFactoryResolver,i.ApplicationRef,i.Injector,s.ConfigService])],l)},804(e){"use strict";e.exports=require("@angular/common")},430(e){"use strict";e.exports=require("@angular/core")},59(e){"use strict";e.exports=require("@angular/forms")},646(e){"use strict";e.exports=require("child_process")},21(e){"use strict";e.exports=require("fs")},820(e){"use strict";e.exports=require("os")},873(e){"use strict";e.exports=require("path")},607(e){"use strict";e.exports=require("rxjs")},437(e){"use strict";e.exports=require("rxjs/operators")},368(e){"use strict";e.exports=require("tabby-core")},262(e){"use strict";e.exports=require("tabby-settings")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nc=void 0;var n=o(440);module.exports=n})();