/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={155(e,t,o){"use strict";const n=o(427),i=o(527),r=o(128);e.exports=function e(t,o){switch(i(t)){case"object":return function(t,o){if("function"==typeof o)return o(t);if(o||r(t)){const n=new t.constructor;for(let i in t)n[i]=e(t[i],o);return n}return t}(t,o);case"array":return function(t,o){const n=new t.constructor(t.length);for(let i=0;i<t.length;i++)n[i]=e(t[i],o);return n}(t,o);default:return n(t)}}},300(e,t,o){"use strict";o.r(t),o.d(t,{default:()=>a});var n=o(601),i=o.n(n),r=o(314),s=o.n(r)()(i());s.push([e.id,":host{display:block;height:100%;width:100%}.sidebar-container{display:flex;flex-direction:column;height:100%;background:var(--bs-body-bg);color:var(--bs-body-color);font-family:inherit}.sidebar-header{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;background:var(--bs-tertiary-bg);border-bottom:1px solid var(--bs-border-color)}.sidebar-header .sidebar-title{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:1.2px;color:var(--bs-secondary-color)}.sidebar-header .btn-close-sidebar{display:flex;align-items:center;justify-content:center;width:22px;height:22px;padding:0;border:none;border-radius:4px;background:rgba(0,0,0,0);color:var(--bs-secondary-color);cursor:pointer;transition:all .15s;font-size:11px}.sidebar-header .btn-close-sidebar:hover{background:var(--bs-secondary-bg);color:var(--bs-body-color)}.protocol-tabs{display:flex;padding:8px 12px;gap:6px;border-bottom:1px solid var(--bs-border-color)}.protocol-tabs .protocol-tab{flex:1;padding:5px 0;font-size:11px;font-weight:600;text-align:center;border:none;border-radius:6px;background:rgba(0,0,0,0);color:var(--bs-secondary-color);cursor:pointer;transition:all .15s}.protocol-tabs .protocol-tab:hover{background:var(--bs-tertiary-bg);color:var(--bs-body-color)}.protocol-tabs .protocol-tab.active{background:var(--bs-primary);color:#fff;box-shadow:0 1px 4px rgba(var(--bs-primary-rgb), 0.3)}.sidebar-search-bar{display:flex;align-items:center;padding:8px 12px;gap:6px;border-bottom:1px solid var(--bs-border-color)}.sidebar-search-bar .search-input{flex:1;padding:6px 10px;font-size:12px;background:var(--bs-tertiary-bg);border:1px solid rgba(0,0,0,0);border-radius:6px;color:var(--bs-body-color);outline:none;transition:border-color .15s,background .15s}.sidebar-search-bar .search-input:focus{border-color:var(--bs-primary);background:var(--bs-body-bg)}.sidebar-search-bar .search-input::placeholder{color:var(--bs-secondary-color)}.sidebar-search-bar .btn-add{display:flex;align-items:center;justify-content:center;width:30px;height:30px;padding:0;border:none;border-radius:6px;background:var(--bs-tertiary-bg);color:var(--bs-secondary-color);cursor:pointer;transition:all .15s;font-size:12px}.sidebar-search-bar .btn-add:hover{background:var(--bs-primary);color:#fff;box-shadow:0 1px 4px rgba(var(--bs-primary-rgb), 0.3)}.sidebar-sort-bar{display:flex;align-items:center;justify-content:space-between;padding:6px 12px;border-bottom:1px solid var(--bs-border-color)}.sidebar-sort-bar .sort-label{font-size:10px;font-weight:600;color:var(--bs-secondary-color);letter-spacing:.3px}.sidebar-sort-bar .sort-options{display:flex;gap:2px}.sidebar-sort-bar .sort-options .sort-btn{padding:3px 7px;font-size:10px;font-weight:500;border:none;border-radius:4px;background:rgba(0,0,0,0);color:var(--bs-secondary-color);cursor:pointer;transition:all .12s}.sidebar-sort-bar .sort-options .sort-btn:hover{background:var(--bs-tertiary-bg);color:var(--bs-body-color)}.sidebar-sort-bar .sort-options .sort-btn.active{background:var(--bs-primary);color:#fff}.sidebar-list{flex:1;overflow-y:auto;overflow-x:hidden}.sidebar-list::-webkit-scrollbar{width:3px}.sidebar-list::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.sidebar-list::-webkit-scrollbar-thumb{background:var(--bs-secondary-bg);border-radius:3px}.sidebar-list::-webkit-scrollbar-thumb:hover{background:var(--bs-secondary-color)}.group-header{display:flex;align-items:center;padding:8px 12px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.8px;color:var(--bs-secondary-color);background:var(--bs-tertiary-bg);cursor:pointer;user-select:none}.group-header:hover{color:var(--bs-body-color)}.group-header .group-chevron{width:12px;font-size:8px;margin-right:6px;transition:transform .2s ease;opacity:.6}.group-header .group-chevron.collapsed{transform:rotate(-90deg)}.group-header .group-name{flex:1}.group-header .group-badge{font-size:9px;font-weight:600;min-width:18px;text-align:center;padding:1px 6px;border-radius:10px;background:var(--bs-secondary-bg);color:var(--bs-secondary-color);line-height:1.4}.sidebar-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 24px;text-align:center;color:var(--bs-secondary-color)}.sidebar-empty .empty-icon{font-size:28px;margin-bottom:12px;opacity:.25}.sidebar-empty p{margin:0 0 4px;font-weight:500;font-size:12.5px;color:var(--bs-secondary-color)}.sidebar-empty small{font-size:11px;opacity:.7}.context-menu{position:fixed;background:var(--bs-body-bg);border:1px solid var(--bs-border-color);border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,.45),0 2px 8px rgba(0,0,0,.2);z-index:10000;min-width:200px;padding:4px;font-size:12.5px;backdrop-filter:blur(8px)}.context-menu-item{display:flex;align-items:center;gap:10px;padding:7px 12px;cursor:pointer;color:var(--bs-body-color);border-radius:5px;transition:background .1s}.context-menu-item:hover{background:var(--bs-tertiary-bg)}.context-menu-item.danger{color:var(--bs-danger)}.context-menu-item.danger:hover{background:var(--bs-danger);color:#fff}.context-menu-item i{width:14px;text-align:center;font-size:11px;opacity:.7}.context-menu-divider{height:1px;background:var(--bs-border-color);margin:4px 8px}",""]);const a=s},314(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o}).join("")},t.i=function(e,o,n,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var p=[].concat(e[l]);n&&s[p[0]]||(void 0!==r&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=r),o&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=o):p[2]=o),i&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=i):p[4]="".concat(i)),t.push(p))}},t}},601(e){"use strict";e.exports=function(e){return e[1]}},128(e,t,o){"use strict";var n=o(798);function i(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,o;return!1!==i(e)&&"function"==typeof(t=e.constructor)&&!1!==i(o=t.prototype)&&!1!==o.hasOwnProperty("isPrototypeOf")}},798(e){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},527(e){var t=Object.prototype.toString;function o(e){return"function"==typeof e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var n=typeof e;if("boolean"===n)return"boolean";if("string"===n)return"string";if("number"===n)return"number";if("symbol"===n)return"symbol";if("function"===n)return"GeneratorFunction"===o(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){return!(!e.constructor||"function"!=typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(o(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(n=t.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return n.slice(8,-1).toLowerCase().replace(/\s/g,"")}},427(e,t,o){"use strict";const n=Symbol.prototype.valueOf,i=o(527);e.exports=function(e,t){switch(i(e)){case"array":return e.slice();case"object":return Object.assign({},e);case"date":return new e.constructor(Number(e));case"map":return new Map(e);case"set":return new Set(e);case"buffer":return function(e){const t=e.length,o=Buffer.allocUnsafe?Buffer.allocUnsafe(t):Buffer.from(t);return e.copy(o),o}(e);case"symbol":return function(e){return n?Object(n.call(e)):{}}(e);case"arraybuffer":return function(e){const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}(e);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function(e){return new e.constructor(e.buffer,e.byteOffset,e.length)}(e);case"regexp":return function(e){const t=void 0!==e.flags?e.flags:/\w+$/.exec(e)||void 0,o=new e.constructor(e.source,t);return o.lastIndex=e.lastIndex,o}(e);case"error":return Object.create(e);default:return e}}},678(e,t,o){var n=o(300);n&&n.__esModule&&(n=n.default),e.exports="string"==typeof n?n:n.toString()},583(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionItemComponent=void 0;const r=o(430);let s=class{constructor(){this.description=null,this.active=!1,this.showBadge=!0,this.launch=new r.EventEmitter,this.contextMenu=new r.EventEmitter}};t.ConnectionItemComponent=s,n([(0,r.Input)(),i("design:type",Object)],s.prototype,"profile",void 0),n([(0,r.Input)(),i("design:type",String)],s.prototype,"description",void 0),n([(0,r.Input)(),i("design:type",Object)],s.prototype,"active",void 0),n([(0,r.Input)(),i("design:type",Object)],s.prototype,"showBadge",void 0),n([(0,r.Output)(),i("design:type",Object)],s.prototype,"launch",void 0),n([(0,r.Output)(),i("design:type",Object)],s.prototype,"contextMenu",void 0),t.ConnectionItemComponent=s=n([(0,r.Component)({selector:"connection-item",styles:["\n        :host { display: block; }\n        .connection-item {\n            padding: 4px 12px 4px 24px;\n            cursor: pointer;\n            border-left: 2px solid transparent;\n            transition: all 0.1s ease;\n            font-size: 10px;\n            font-weight: 700;\n            text-transform: uppercase;\n            letter-spacing: 0.8px;\n            color: #fff;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n        .connection-item:hover {\n            background: var(--bs-tertiary-bg);\n            color: var(--bs-body-color);\n        }\n        .connection-item.active {\n            background: rgba(var(--bs-primary-rgb), 0.08);\n            border-left-color: var(--bs-primary);\n            color: var(--bs-body-color);\n        }\n    "],template:'\n        <div class="connection-item"\n             [class.active]="active"\n             (click)="launch.emit()"\n             (contextmenu)="contextMenu.emit($event)">{{ profile.name }}</div>\n    '})],s)},991(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RdpEditModalComponent=void 0;const r=o(430),s=o(368);let a=class{constructor(e){this.config=e,this.profileId=null,this.saved=new r.EventEmitter,this.cancelled=new r.EventEmitter,this.name="",this.group="",this.editMode=!1,this.options={host:"",port:3389,username:"",domain:"",fullscreen:!1,width:void 0,height:void 0,admin:!1}}ngOnInit(){if(this.profileId){this.editMode=!0;const e=(this.config.store.profiles||[]).find(e=>e.id===this.profileId);e&&(this.name=e.name||"",this.group=e.group||"",this.options={...this.options,...e.options})}}save(){const e=this.normalizeOptions(this.options);if(!e.host)return;const t=this.config.store.profiles=this.config.store.profiles||[];if(this.editMode&&this.profileId){const o=t.findIndex(e=>e.id===this.profileId);o>=0&&(t[o].name=this.name||`RDP: ${e.host}`,t[o].group=this.group||void 0,t[o].options={...e})}else t.push({type:"rdp",name:this.name||`RDP: ${e.host}`,group:this.group||void 0,options:{...e}});this.config.save(),this.saved.emit()}normalizeOptions(e){const t=(e.host||"").replace(/[\r\n]+/g,"").trim(),o=this.normalizeDimension(e.width),n=this.normalizeDimension(e.height);return{...e,host:t,port:this.normalizePort(e.port),username:this.cleanText(e.username),domain:this.cleanText(e.domain),width:e.fullscreen?void 0:o,height:e.fullscreen?void 0:n}}cleanText(e){if(e)return e.replace(/[\r\n]+/g,"").trim()||void 0}normalizePort(e){const t=Number(e||3389);if(!Number.isFinite(t))return 3389;const o=Math.round(t);return o<1||o>65535?3389:o}normalizeDimension(e){if(null==e||0===e)return;const t=Number(e);if(!Number.isFinite(t))return;const o=Math.round(t);return o<640||o>8192?void 0:o}cancel(){this.cancelled.emit()}};t.RdpEditModalComponent=a,n([(0,r.Input)(),i("design:type",String)],a.prototype,"profileId",void 0),n([(0,r.Output)(),i("design:type",Object)],a.prototype,"saved",void 0),n([(0,r.Output)(),i("design:type",Object)],a.prototype,"cancelled",void 0),t.RdpEditModalComponent=a=n([(0,r.Component)({selector:"rdp-edit-modal",template:'\n        <div class="rdp-modal-backdrop" (click)="cancel()">\n            <div class="rdp-modal" (click)="$event.stopPropagation()">\n                <div class="rdp-modal-header">\n                    <span>{{ editMode ? \'Edit\' : \'New\' }} RDP Connection</span>\n                    <button class="btn-modal-close" (click)="cancel()">\n                        <i class="fas fa-times"></i>\n                    </button>\n                </div>\n                <div class="rdp-modal-body">\n                    <div class="form-group">\n                        <label>Name</label>\n                        <input class="form-control form-control-sm" [(ngModel)]="name" placeholder="Connection name">\n                    </div>\n                    <div class="form-row">\n                        <div class="form-group flex-grow">\n                            <label>Host</label>\n                            <input class="form-control form-control-sm" [(ngModel)]="options.host" placeholder="hostname or IP">\n                        </div>\n                        <div class="form-group" style="width:80px">\n                            <label>Port</label>\n                            <input class="form-control form-control-sm" type="number" min="1" max="65535" [(ngModel)]="options.port">\n                        </div>\n                    </div>\n                    <div class="form-row">\n                        <div class="form-group flex-grow">\n                            <label>Username</label>\n                            <input class="form-control form-control-sm" [(ngModel)]="options.username" placeholder="optional">\n                        </div>\n                        <div class="form-group flex-grow">\n                            <label>Domain</label>\n                            <input class="form-control form-control-sm" [(ngModel)]="options.domain" placeholder="optional">\n                        </div>\n                    </div>\n                    <div class="form-group">\n                        <label>Group</label>\n                        <input class="form-control form-control-sm" [(ngModel)]="group" placeholder="optional">\n                    </div>\n                    <div class="form-check-row">\n                        <label class="form-check">\n                            <input type="checkbox" [(ngModel)]="options.fullscreen"> Fullscreen\n                        </label>\n                        <label class="form-check">\n                            <input type="checkbox" [(ngModel)]="options.admin"> Admin mode\n                        </label>\n                    </div>\n                    <div class="form-row" *ngIf="!options.fullscreen">\n                        <div class="form-group" style="width:100px">\n                            <label>Width</label>\n                            <input class="form-control form-control-sm" type="number" min="640" max="8192" [(ngModel)]="options.width" placeholder="auto">\n                        </div>\n                        <div class="form-group" style="width:100px">\n                            <label>Height</label>\n                            <input class="form-control form-control-sm" type="number" min="640" max="8192" [(ngModel)]="options.height" placeholder="auto">\n                        </div>\n                    </div>\n                    <small class="form-hint" *ngIf="!options.width || !options.height">Leave width/height empty to auto-fit and enable dynamic resize.</small>\n                </div>\n                <div class="rdp-modal-footer">\n                    <button class="btn btn-sm btn-secondary" (click)="cancel()">Cancel</button>\n                    <button class="btn btn-sm btn-primary" (click)="save()" [disabled]="!options.host">Save</button>\n                </div>\n            </div>\n        </div>\n    ',styles:["\n        .rdp-modal-backdrop {\n            position: fixed;\n            inset: 0;\n            background: rgba(0,0,0,0.55);\n            z-index: 10001;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n        .rdp-modal {\n            background: var(--bs-body-bg);\n            border: 1px solid var(--bs-border-color);\n            border-radius: 12px;\n            width: 400px;\n            box-shadow: 0 16px 48px rgba(0,0,0,0.5);\n        }\n        .rdp-modal-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 14px 18px;\n            border-bottom: 1px solid var(--bs-border-color);\n            font-weight: 600;\n            font-size: 14px;\n        }\n        .btn-modal-close {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: 24px;\n            height: 24px;\n            padding: 0;\n            background: none;\n            border: none;\n            border-radius: 4px;\n            color: var(--bs-secondary-color);\n            cursor: pointer;\n            transition: all 0.15s;\n            &:hover { background: var(--bs-secondary-bg); color: var(--bs-body-color); }\n        }\n        .rdp-modal-body {\n            padding: 16px 18px;\n            display: flex;\n            flex-direction: column;\n            gap: 12px;\n        }\n        .form-group {\n            display: flex;\n            flex-direction: column;\n            gap: 4px;\n            label {\n                font-size: 11px;\n                font-weight: 600;\n                color: var(--bs-secondary-color);\n                text-transform: uppercase;\n                letter-spacing: 0.3px;\n            }\n        }\n        .form-row {\n            display: flex;\n            gap: 8px;\n        }\n        .form-hint {\n            font-size: 11px;\n            color: var(--bs-secondary-color);\n        }\n        .flex-grow { flex: 1; }\n        .form-check-row {\n            display: flex;\n            gap: 16px;\n            font-size: 12px;\n            .form-check { display: flex; align-items: center; gap: 6px; cursor: pointer; }\n        }\n        .rdp-modal-footer {\n            display: flex;\n            justify-content: flex-end;\n            gap: 8px;\n            padding: 12px 18px;\n            border-top: 1px solid var(--bs-border-color);\n        }\n    "]}),i("design:paramtypes",[s.ConfigService])],a)},961(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RdpTabComponent=void 0;const r=o(430),s=o(368),a=o(462);let c=class extends s.BaseTabComponent{constructor(e,t){super(e),this.rdpService=t,this.statusMessage="",this.launching=!1,this.setTitle("RDP")}ngOnInit(){this.setTitle(`RDP: ${this.getHost()}`),this.launchRdp()}getHost(){return this.profile?.options?.host||"unknown"}reconnect(){this.launching||this.launchRdp()}launchRdp(){if(!this.launching){this.launching=!0,this.statusMessage="Launching mstsc.exe...";try{this.rdpService.launch(this.profile),this.statusMessage="External RDP client launched"}catch(e){this.statusMessage=`Failed: ${e}`}finally{setTimeout(()=>{this.launching=!1},3e3)}}}};t.RdpTabComponent=c,n([(0,r.Input)(),i("design:type",Object)],c.prototype,"profile",void 0),t.RdpTabComponent=c=n([(0,r.Component)({selector:"rdp-tab",template:'\n        <div class="rdp-tab-container">\n            <div class="rdp-tab-header">\n                <i class="fas fa-desktop"></i>\n                <span>RDP Connection</span>\n            </div>\n            <div class="rdp-tab-info">\n                <p>RDP session launched to <strong>{{ getHost() }}</strong></p>\n                <div class="rdp-tab-details" *ngIf="profile?.options">\n                    <div *ngIf="profile.options.username">User: {{ profile.options.username }}</div>\n                    <div>Port: {{ profile.options.port || 3389 }}</div>\n                    <div *ngIf="profile.options.domain">Domain: {{ profile.options.domain }}</div>\n                    <div *ngIf="profile.options.fullscreen">Mode: Fullscreen</div>\n                    <div *ngIf="profile.options.admin">Admin session</div>\n                </div>\n            </div>\n            <div class="rdp-tab-actions">\n                <button class="btn btn-primary" (click)="reconnect()">\n                    <i class="fas fa-redo"></i> Reconnect\n                </button>\n            </div>\n            <div class="rdp-tab-status" *ngIf="statusMessage">\n                {{ statusMessage }}\n            </div>\n        </div>\n    ',styles:["\n        .rdp-tab-container {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 100%;\n            gap: 24px;\n            color: var(--bs-body-color);\n        }\n        .rdp-tab-header {\n            display: flex;\n            align-items: center;\n            gap: 12px;\n            font-size: 22px;\n            font-weight: 600;\n        }\n        .rdp-tab-header i {\n            color: #3b82f6;\n            font-size: 28px;\n            opacity: 0.8;\n        }\n        .rdp-tab-info {\n            text-align: center;\n            line-height: 1.6;\n        }\n        .rdp-tab-details {\n            margin-top: 12px;\n            font-size: 12.5px;\n            color: var(--bs-secondary-color);\n            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;\n            display: flex;\n            flex-direction: column;\n            gap: 2px;\n        }\n        .rdp-tab-status {\n            font-size: 11px;\n            color: var(--bs-secondary-color);\n            padding: 6px 14px;\n            background: var(--bs-tertiary-bg);\n            border-radius: 6px;\n        }\n    "]}),i("design:paramtypes",[r.Injector,a.RdpService])],c)},52(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsTabComponent=void 0;const r=o(430),s=o(368),a=o(903);let c=class{constructor(e){this.config=e,this.configKey=a.CONFIG_KEY}};t.SettingsTabComponent=c,t.SettingsTabComponent=c=n([(0,r.Component)({selector:"aio-settings-tab",template:'\n        <div class="aio-settings">\n            <h3>Connection Sidebar Settings</h3>\n\n            \x3c!-- Appearance --\x3e\n            <h5>Appearance</h5>\n            <div class="form-group">\n                <label>Sidebar position</label>\n                <select class="form-control form-control-sm" [(ngModel)]="config.store[configKey].position" (ngModelChange)="config.save()">\n                    <option value="left">Left</option>\n                    <option value="right">Right</option>\n                </select>\n            </div>\n            <div class="form-group">\n                <label>Sidebar width (px)</label>\n                <input class="form-control form-control-sm" type="number" [(ngModel)]="config.store[configKey].width" (ngModelChange)="config.save()">\n            </div>\n            <div class="form-group">\n                <div class="form-check">\n                    <input type="checkbox" class="form-check-input" [(ngModel)]="config.store[configKey].showProtocolBadge" (ngModelChange)="config.save()">\n                    <label class="form-check-label">Show protocol badge</label>\n                </div>\n            </div>\n            <div class="form-group">\n                <label>Group by</label>\n                <select class="form-control form-control-sm" [(ngModel)]="config.store[configKey].groupBy" (ngModelChange)="config.save()">\n                    <option value="group">Custom group</option>\n                    <option value="protocol">Protocol type</option>\n                </select>\n            </div>\n\n            \x3c!-- Behavior --\x3e\n            <h5>Behavior</h5>\n            <div class="form-group">\n                <label>Default sort</label>\n                <select class="form-control form-control-sm" [(ngModel)]="config.store[configKey].sortBy" (ngModelChange)="config.save()">\n                    <option value="name">Name</option>\n                    <option value="host">Host</option>\n                    <option value="recent">Recent</option>\n                    <option value="type">Type</option>\n                </select>\n            </div>\n            <div class="form-group">\n                <label>Default protocol filter</label>\n                <select class="form-control form-control-sm" [(ngModel)]="config.store[configKey].protocolFilter" (ngModelChange)="config.save()">\n                    <option value="all">All</option>\n                    <option value="ssh">SSH</option>\n                    <option value="telnet">Telnet</option>\n                    <option value="rdp">RDP</option>\n                </select>\n            </div>\n            <div class="form-group">\n                <div class="form-check">\n                    <input type="checkbox" class="form-check-input" [(ngModel)]="config.store[configKey].showInToolbar" (ngModelChange)="config.save()">\n                    <label class="form-check-label">Show toolbar button</label>\n                </div>\n            </div>\n\n            \x3c!-- RDP --\x3e\n            <h5>RDP</h5>\n            <div class="form-group">\n                <label>RDP client path</label>\n                <input class="form-control form-control-sm" [(ngModel)]="config.store[configKey].rdpClientPath" (ngModelChange)="config.save()" placeholder="mstsc.exe">\n            </div>\n        </div>\n    ',styles:["\n        .aio-settings {\n            padding: 24px;\n            max-width: 560px;\n        }\n        h3 {\n            margin-bottom: 24px;\n            font-size: 18px;\n            font-weight: 600;\n        }\n        h5 {\n            margin-top: 24px;\n            margin-bottom: 12px;\n            padding-bottom: 8px;\n            border-bottom: 1px solid var(--bs-border-color);\n            font-size: 12px;\n            font-weight: 700;\n            text-transform: uppercase;\n            letter-spacing: 0.8px;\n            color: var(--bs-secondary-color);\n        }\n        .form-group {\n            margin-bottom: 14px;\n            label {\n                font-size: 12px;\n                margin-bottom: 4px;\n                display: block;\n            }\n        }\n        .form-control-sm { max-width: 280px; }\n    "]}),i("design:paramtypes",[s.ConfigService])],c)},540(e,t,o){"use strict";var n,i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(o,n){t(o,n,e)}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarComponent=void 0;const c=o(430),l=o(368),p=o(607),d=o(437),f=a(o(155)),u=o(903),h=o(462);let b=class extends l.BaseComponent{constructor(e,t,o,n,i,r,s){super(),this.profiles=e,this.app=t,this.config=o,this.translate=n,this.platform=i,this.rdpService=r,this.profileProviders=s,this.hostClass=!0,this.allProfiles=[],this.profileGroups=[],this.filter="",this.sortBy="name",this.protocolFilter="all",this.showProtocolBadge=!0,this.pinnedProfiles=[],this.groupBy="group",this.ctxVisible=!1,this.ctxPos={x:0,y:0},this.ctxProfile=null,this.sidebarService=null,this.destroy$=new p.Subject,this.configGroups=[]}onDocumentClick(){this.ctxVisible=!1}async ngOnInit(){this.loadConfig(),this.configGroups=this.config.store.groups||[],await this.refreshProfiles(),this.config.changed$.pipe((0,d.takeUntil)(this.destroy$),(0,d.debounceTime)(300)).subscribe(async()=>{this.loadConfig(),this.configGroups=this.config.store.groups||[],await this.refreshProfiles()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadConfig(){const e=this.config.store[u.CONFIG_KEY]||{};this.sortBy=e.sortBy||"name",this.protocolFilter=e.protocolFilter||"all",this.showProtocolBadge=!1!==e.showProtocolBadge,this.pinnedProfiles=e.pinnedProfiles||[],this.groupBy=e.groupBy||"group"}saveConfigField(e,t){this.config.store[u.CONFIG_KEY]||(this.config.store[u.CONFIG_KEY]={}),this.config.store[u.CONFIG_KEY][e]=t,this.config.save()}async refreshProfiles(){const e=await this.profiles.getProfiles();this.allProfiles=e.filter(e=>!(!u.SUPPORTED_PROTOCOLS.includes(e.type)||e.isTemplate||"ssh"===e.type&&!e.options?.host||"telnet"===e.type&&!e.options?.host||"rdp"===e.type&&!e.options?.host)),await this.rebuildGroups()}async rebuildGroups(){await this.sortProfiles();let e=this.allProfiles;"all"!==this.protocolFilter&&(e=e.filter(e=>e.type===this.protocolFilter));const t=JSON.parse(window.localStorage.profileGroupCollapsed??"{}");"protocol"===this.groupBy?this.profileGroups=this.buildProtocolGroups(e,t):this.profileGroups=this.buildCustomGroups(e,t)}buildCustomGroups(e,t){const o={};for(const t of e){const e=t.group||"ungrouped";o[e]||(o[e]=[]),o[e].push(t)}let n=Object.entries(o).map(([e,o])=>{let n=e;if("ungrouped"===e)n="Ungrouped";else{const t=this.configGroups.find(t=>t.id===e);t&&(n=t.name)}return{id:e,name:n,profiles:o,collapsed:t[e]??!1}});if(this.pinnedProfiles.length>0){const o=e.filter(e=>e.id&&this.pinnedProfiles.includes(e.id));o.length>0&&(n.forEach(e=>{e.profiles=e.profiles.filter(e=>!e.id||!this.pinnedProfiles.includes(e.id))}),n.unshift({id:"favorites",name:"⭐ Favorites",profiles:o,collapsed:t.favorites??!1}))}return n=n.filter(e=>e.profiles.length>0),n.sort((e,t)=>"favorites"===e.id?-1:"favorites"===t.id||"ungrouped"===e.id?1:"ungrouped"===t.id?-1:e.name.localeCompare(t.name)),n}buildProtocolGroups(e,t){const o={};for(const t of e){const e=t.type||"unknown";o[e]||(o[e]=[]),o[e].push(t)}let n=[];if(this.pinnedProfiles.length>0){const i=e.filter(e=>e.id&&this.pinnedProfiles.includes(e.id));if(i.length>0){for(const e of Object.keys(o))o[e]=o[e].filter(e=>!e.id||!this.pinnedProfiles.includes(e.id));n.push({id:"favorites",name:"⭐ Favorites",profiles:i,collapsed:t.favorites??!1})}}for(const[e,i]of Object.entries(o)){if(0===i.length)continue;const o=u.PROTOCOL_META[e];n.push({id:`proto-${e}`,name:o?.label||e.toUpperCase(),profiles:i,collapsed:t[`proto-${e}`]??!1})}return n}async sortProfiles(){if("recent"===this.sortBy){const e=(await this.profiles.getRecentProfiles()).map(e=>e.id);this.allProfiles.sort((t,o)=>{const n=this.isActiveConnection(t),i=this.isActiveConnection(o);if(n&&!i)return-1;if(!n&&i)return 1;const r=e.indexOf(t.id),s=e.indexOf(o.id);return-1!==r&&-1!==s?r-s:-1!==r?-1:-1!==s?1:t.name.localeCompare(o.name)})}else if("type"===this.sortBy){const e={ssh:0,telnet:1,rdp:2};this.allProfiles.sort((t,o)=>{const n=e[t.type]??99,i=e[o.type]??99;return n!==i?n-i:t.name.localeCompare(o.name)})}else this.allProfiles.sort((e,t)=>"host"===this.sortBy?(e.options?.host||"").localeCompare(t.options?.host||""):e.name.localeCompare(t.name))}setProtocolFilter(e){this.protocolFilter=e,this.saveConfigField("protocolFilter",e),this.rebuildGroups()}async setSortOrder(e){this.sortBy=e,this.saveConfigField("sortBy",e),await this.rebuildGroups()}isGroupVisible(e){return!this.filter||e.profiles.some(e=>this.isProfileVisible(e))}isProfileVisible(e){return!this.filter||(e.name+"$"+(this.getDescription(e)??"")).toLowerCase().includes(this.filter.toLowerCase())}hasVisibleProfiles(){return this.profileGroups.some(e=>this.isGroupVisible(e))}getGroupVisibleCount(e){return this.filter?e.profiles.filter(e=>this.isProfileVisible(e)).length:e.profiles.length}getCountText(){let e=this.allProfiles;"all"!==this.protocolFilter&&(e=e.filter(e=>e.type===this.protocolFilter));const t=e.length,o=e.filter(e=>this.isActiveConnection(e)).length;return 0===o?`${t} connection${1!==t?"s":""}`:`${t} connections (${o} active)`}getDescription(e){if(this.profiles.getDescription)return this.profiles.getDescription(e);const t=e.options;if(!t)return null;if("ssh"===e.type){const e=t.user||"root",o=t.host||"",n=t.port||22;return`${e}@${o}${22!==n?":"+n:""}`}if("telnet"===e.type){const e=t.host||"",o=t.port||23;return`${e}${23!==o?":"+o:""}`}if("rdp"===e.type){const e=t.username||"",o=t.host||"",n=t.port||3389;return`${e?`${e}@`:""}${o}${3389!==n?":"+n:""}`}return null}isActiveConnection(e){return this.app.tabs.some(t=>{const o=t.profile;return o&&o.id===e.id})}isProfilePinned(e){return!!e.id&&this.pinnedProfiles.includes(e.id)}toggleGroupCollapse(e){if(0===e.profiles.length)return;e.collapsed=!e.collapsed;const t=JSON.parse(window.localStorage.profileGroupCollapsed??"{}");t[e.id]=e.collapsed,window.localStorage.profileGroupCollapsed=JSON.stringify(t)}launchProfile(e){this.profiles.openNewTabForProfile?this.profiles.openNewTabForProfile(e):this.profiles.launchProfile(e)}closeSidebar(){this.sidebarService&&this.sidebarService.hide()}openNewRdp(){this.sidebarService?.openRdpModal&&this.sidebarService.openRdpModal()}onContextMenu(e,t){e.preventDefault(),e.stopPropagation(),this.ctxProfile=t,this.ctxPos={x:e.clientX,y:e.clientY},this.ctxVisible=!0}ctxLaunch(){this.ctxProfile&&this.launchProfile(this.ctxProfile),this.ctxVisible=!1}async ctxEdit(){if(!this.ctxProfile)return void(this.ctxVisible=!1);const e=this.ctxProfile.name;try{const{SettingsTabComponent:t}=window.nodeRequire("tabby-settings"),o=this.app.tabs.find(e=>e instanceof t);if(o){this.app.selectTab(o);const e=o;"profiles"!==e.activeTab&&(e.activeTab="profiles")}else this.app.openNewTabRaw({type:t,inputs:{activeTab:"profiles"}});await new Promise(e=>setTimeout(e,500));for(let t=0;t<5;t++){t>0&&await new Promise(e=>setTimeout(e,200));const o=document.querySelectorAll(".list-group-item.ps-5");for(const t of Array.from(o)){const o=t.querySelector(".no-wrap");if(o?.textContent?.trim()===e)return o.click(),void(this.ctxVisible=!1)}}}catch(e){}this.ctxVisible=!1}async ctxDuplicate(){if(!this.ctxProfile)return void(this.ctxVisible=!1);const e=(0,f.default)(this.ctxProfile);delete e.id,e.name=this.translate.instant("{name} copy",this.ctxProfile),e.isBuiltin=!1,e.isTemplate=!1,this.config.store.profiles=this.config.store.profiles||[],this.config.store.profiles.push(e),await this.config.save(),await this.refreshProfiles(),this.ctxVisible=!1}ctxCopyCommand(){if(!this.ctxProfile)return void(this.ctxVisible=!1);const e=this.ctxProfile;let t="";if("ssh"===e.type){const o=e.options?.user||"root",n=e.options?.host||"",i=e.options?.port||22;t=`ssh ${o}@${n}${22!==i?" -p "+i:""}`}else if("telnet"===e.type){const o=e.options?.host||"",n=e.options?.port||23;t=`telnet ${o}${23!==n?" "+n:""}`}else"rdp"===e.type&&(t=`mstsc /v:${e.options?.host||""}:${e.options?.port||3389}`);t&&this.platform.setClipboard({text:t}),this.ctxVisible=!1}ctxExportRdp(){if(!this.ctxProfile||"rdp"!==this.ctxProfile.type)return void(this.ctxVisible=!1);const e=this.rdpService.generateRdpFileContent(this.ctxProfile);this.platform.setClipboard({text:e}),this.ctxVisible=!1}async ctxPin(){this.ctxProfile?.id?(this.pinnedProfiles.includes(this.ctxProfile.id)||(this.pinnedProfiles.push(this.ctxProfile.id),this.saveConfigField("pinnedProfiles",this.pinnedProfiles),await this.rebuildGroups()),this.ctxVisible=!1):this.ctxVisible=!1}async ctxUnpin(){this.ctxProfile?.id?(this.pinnedProfiles=this.pinnedProfiles.filter(e=>e!==this.ctxProfile.id),this.saveConfigField("pinnedProfiles",this.pinnedProfiles),await this.rebuildGroups(),this.ctxVisible=!1):this.ctxVisible=!1}async ctxDelete(){this.ctxProfile&&!this.ctxProfile.isBuiltin?(0===(await this.platform.showMessageBox({type:"warning",message:this.translate.instant('Delete "{name}"?',this.ctxProfile),buttons:[this.translate.instant("Delete"),this.translate.instant("Cancel")],defaultId:1,cancelId:1})).response&&(this.config.store.profiles=this.config.store.profiles.filter(e=>e.id!==this.ctxProfile.id),await this.config.save(),await this.refreshProfiles()),this.ctxVisible=!1):this.ctxVisible=!1}};t.SidebarComponent=b,i([(0,c.HostBinding)("class.aio-sidebar"),r("design:type",Object)],b.prototype,"hostClass",void 0),i([(0,c.HostListener)("document:click"),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],b.prototype,"onDocumentClick",null),t.SidebarComponent=b=i([(0,c.Component)({selector:"aio-sidebar",styles:[o(678)],template:'\n        <div class="sidebar-container">\n            \x3c!-- Header --\x3e\n            <div class="sidebar-header">\n                <span class="sidebar-title">Connections</span>\n                <button class="btn-close-sidebar" (click)="closeSidebar()" title="Close">\n                    <i class="fas fa-times"></i>\n                </button>\n            </div>\n\n            \x3c!-- Protocol filter tabs --\x3e\n            <div class="protocol-tabs">\n                <button class="protocol-tab"\n                        [class.active]="protocolFilter === \'all\'"\n                        (click)="setProtocolFilter(\'all\')">All</button>\n                <button class="protocol-tab"\n                        [class.active]="protocolFilter === \'ssh\'"\n                        (click)="setProtocolFilter(\'ssh\')">SSH</button>\n                <button class="protocol-tab"\n                        [class.active]="protocolFilter === \'telnet\'"\n                        (click)="setProtocolFilter(\'telnet\')">Tel</button>\n                <button class="protocol-tab"\n                        [class.active]="protocolFilter === \'rdp\'"\n                        (click)="setProtocolFilter(\'rdp\')">RDP</button>\n            </div>\n\n            \x3c!-- Search + Add --\x3e\n            <div class="sidebar-search-bar">\n                <input class="search-input"\n                       type="search"\n                       placeholder="Search..."\n                       [(ngModel)]="filter">\n                <button class="btn-add" (click)="openNewRdp()" title="New RDP connection">\n                    <i class="fas fa-plus"></i>\n                </button>\n            </div>\n\n            \x3c!-- Sort bar --\x3e\n            <div class="sidebar-sort-bar">\n                <span class="sort-label">{{ getCountText() }}</span>\n                <div class="sort-options">\n                    <button class="sort-btn" [class.active]="sortBy===\'name\'" (click)="setSortOrder(\'name\')">Name</button>\n                    <button class="sort-btn" [class.active]="sortBy===\'host\'" (click)="setSortOrder(\'host\')">Host</button>\n                    <button class="sort-btn" [class.active]="sortBy===\'recent\'" (click)="setSortOrder(\'recent\')">Recent</button>\n                    <button class="sort-btn" [class.active]="sortBy===\'type\'" (click)="setSortOrder(\'type\')">Type</button>\n                </div>\n            </div>\n\n            \x3c!-- Profile list --\x3e\n            <div class="sidebar-list">\n                <ng-container *ngFor="let group of profileGroups">\n                    <ng-container *ngIf="isGroupVisible(group)">\n                        <div class="group-header" (click)="toggleGroupCollapse(group)">\n                            <i class="fas fa-chevron-down group-chevron"\n                               [class.collapsed]="group.collapsed"\n                               *ngIf="group.profiles.length > 0"></i>\n                            <span class="group-name">{{ group.name }}</span>\n                            <span class="group-badge">{{ getGroupVisibleCount(group) }}</span>\n                        </div>\n                        <ng-container *ngIf="!group.collapsed">\n                            <ng-container *ngFor="let p of group.profiles">\n                                <connection-item\n                                    *ngIf="isProfileVisible(p)"\n                                    [profile]="p"\n                                    [description]="getDescription(p)"\n                                    [active]="isActiveConnection(p)"\n                                    [showBadge]="showProtocolBadge"\n                                    (launch)="launchProfile(p)"\n                                    (contextMenu)="onContextMenu($event, p)">\n                                </connection-item>\n                            </ng-container>\n                        </ng-container>\n                    </ng-container>\n                </ng-container>\n\n                \x3c!-- Empty state --\x3e\n                <div *ngIf="!hasVisibleProfiles()" class="sidebar-empty">\n                    <div *ngIf="allProfiles.length === 0">\n                        <i class="fas fa-server empty-icon"></i>\n                        <p>No connections</p>\n                        <small>Create profiles in Settings</small>\n                    </div>\n                    <div *ngIf="allProfiles.length > 0">\n                        <i class="fas fa-search empty-icon"></i>\n                        <p>No matches</p>\n                        <small>Try a different filter</small>\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- Context menu --\x3e\n            <div class="context-menu"\n                 *ngIf="ctxVisible"\n                 [style.left.px]="ctxPos.x"\n                 [style.top.px]="ctxPos.y">\n\n                <div class="context-menu-item" (click)="ctxLaunch()">\n                    <i class="fas fa-fw fa-play"></i><span>Launch</span>\n                </div>\n                <div class="context-menu-item" (click)="ctxEdit()">\n                    <i class="fas fa-fw fa-edit"></i><span>Edit</span>\n                </div>\n                <div class="context-menu-item" (click)="ctxDuplicate()">\n                    <i class="fas fa-fw fa-copy"></i><span>Duplicate</span>\n                </div>\n\n                \x3c!-- Protocol-specific copy commands --\x3e\n                <div class="context-menu-item" *ngIf="ctxProfile?.type === \'ssh\'" (click)="ctxCopyCommand()">\n                    <i class="fas fa-fw fa-terminal"></i><span>Copy SSH Command</span>\n                </div>\n                <div class="context-menu-item" *ngIf="ctxProfile?.type === \'telnet\'" (click)="ctxCopyCommand()">\n                    <i class="fas fa-fw fa-terminal"></i><span>Copy Telnet Command</span>\n                </div>\n                <div class="context-menu-item" *ngIf="ctxProfile?.type === \'rdp\'" (click)="ctxCopyCommand()">\n                    <i class="fas fa-fw fa-terminal"></i><span>Copy RDP Command</span>\n                </div>\n                <div class="context-menu-item" *ngIf="ctxProfile?.type === \'rdp\'" (click)="ctxExportRdp()">\n                    <i class="fas fa-fw fa-file-export"></i><span>Export .rdp File</span>\n                </div>\n\n                <div class="context-menu-divider"></div>\n\n                <div class="context-menu-item"\n                     *ngIf="ctxProfile?.id && !isProfilePinned(ctxProfile)"\n                     (click)="ctxPin()">\n                    <i class="fas fa-fw fa-thumbtack"></i><span>Pin to Favorites</span>\n                </div>\n                <div class="context-menu-item"\n                     *ngIf="ctxProfile?.id && isProfilePinned(ctxProfile)"\n                     (click)="ctxUnpin()">\n                    <i class="fas fa-fw fa-thumbtack" style="transform:rotate(45deg)"></i><span>Unpin</span>\n                </div>\n\n                <div class="context-menu-divider"></div>\n\n                <div class="context-menu-item danger"\n                     *ngIf="ctxProfile && !ctxProfile.isBuiltin"\n                     (click)="ctxDelete()">\n                    <i class="fas fa-fw fa-trash-alt"></i><span>Delete</span>\n                </div>\n            </div>\n        </div>\n    '}),s(6,(0,c.Inject)(l.ProfileProvider)),r("design:paramtypes",[l.ProfilesService,l.AppService,l.ConfigService,"function"==typeof(n=void 0!==l.TranslateService&&l.TranslateService)?n:Object,l.PlatformService,h.RdpService,Array])],b)},440(e,t,o){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},a=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[t.length]=o);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o=n(e),s=0;s<o.length;s++)"default"!==o[s]&&i(t,e,o[s]);return r(t,e),t}),c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const l=o(430),p=o(804),d=o(59),f=a(o(368)),u=o(262),h=o(540),b=o(583),g=o(991),m=o(52),v=o(961),y=o(452),x=o(462),P=o(627),w=o(894),C=o(826),S=o(684),R=o(903);let O=class extends f.ToolbarButtonProvider{constructor(e,t,o,n){super(),this.sidebarService=e,this.config=t,this.profiles=o,this.selector=n,this.weight=15}provide(){return!1===(this.config.store[R.CONFIG_KEY]||{}).showInToolbar?[]:[{icon:'<i class="fas fa-globe"></i>',title:"Toggle Connection Sidebar",click:()=>this.sidebarService.toggle(),submenu:async()=>[{title:this.sidebarService.visible?"Hide Sidebar":"Show Sidebar",click:()=>this.sidebarService.toggle()},{title:"Quick Connect...",click:()=>this.showQuickConnect()}]}]}async showQuickConnect(){const e=(await this.profiles.getProfiles()).filter(e=>["ssh","telnet","rdp"].includes(e.type));if(0===e.length)return;const t=e.map(e=>({name:e.name,description:this.profiles.getDescription?.(e)||"",result:e,icon:"server",weight:0}));t.sort((e,t)=>e.name.localeCompare(t.name));const o=await this.selector.show("Select Connection",t);o&&(this.profiles.openNewTabForProfile?this.profiles.openNewTabForProfile(o):this.profiles.launchProfile(o))}};O=s([(0,l.Injectable)(),c("design:paramtypes",[y.SidebarService,f.ConfigService,f.ProfilesService,f.SelectorService])],O);let k=class{constructor(e,t,o){this.sidebarService=e,this.app=t,this.hotkeys=o,this.app.ready$.subscribe(()=>{setTimeout(()=>this.sidebarService.initialize(),1e3)}),this.hotkeys.hotkey$.subscribe(e=>{"toggle-connection-sidebar"===e&&this.sidebarService.toggle()})}};k=s([(0,l.Injectable)(),c("design:paramtypes",[y.SidebarService,f.AppService,f.HotkeysService])],k);let j=class{constructor(e){}};j=s([(0,l.NgModule)({imports:[p.CommonModule,d.FormsModule,f.default],declarations:[h.SidebarComponent,b.ConnectionItemComponent,g.RdpEditModalComponent,m.SettingsTabComponent,v.RdpTabComponent],providers:[{provide:f.ToolbarButtonProvider,useClass:O,multi:!0},{provide:f.ProfileProvider,useClass:P.RDPProfileProvider,multi:!0},{provide:f.ConfigProvider,useClass:w.AioConfigProvider,multi:!0},{provide:f.HotkeyProvider,useClass:C.AioHotkeyProvider,multi:!0},{provide:u.SettingsTabProvider,useClass:S.AioSettingsTabProvider,multi:!0},y.SidebarService,x.RdpService,k]}),c("design:paramtypes",[k])],j),t.default=j},903(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG_KEY=t.SUPPORTED_PROTOCOLS=t.PROTOCOL_META=void 0,t.PROTOCOL_META={ssh:{label:"SSH",color:"#22c55e",icon:"lock"},telnet:{label:"Telnet",color:"#f59e0b",icon:"terminal"},rdp:{label:"RDP",color:"#3b82f6",icon:"desktop"}},t.SUPPORTED_PROTOCOLS=["ssh","telnet","rdp"],t.CONFIG_KEY="mingze-sidebar-aio"},894(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AioConfigProvider=void 0;const n=o(368);class i extends n.ConfigProvider{constructor(){super(...arguments),this.defaults={"mingze-sidebar-aio":{enabled:!0,position:"left",width:280,showInToolbar:!0,sidebarVisible:!0,pinnedProfiles:[],sortBy:"name",protocolFilter:"all",showProtocolBadge:!0,rdpClientPath:"mstsc.exe",groupBy:"group"},hotkeys:{"toggle-connection-sidebar":[]}}}}t.AioConfigProvider=i},826(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.AioHotkeyProvider=void 0;const i=o(430),r=o(368);let s=class extends r.HotkeyProvider{async provide(){return[{id:"toggle-connection-sidebar",name:"Toggle connection sidebar"}]}};t.AioHotkeyProvider=s,t.AioHotkeyProvider=s=n([(0,i.Injectable)()],s)},627(e,t,o){"use strict";var n,i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RDPProfileProvider=void 0;const s=o(430),a=o(368),c=o(961);let l=class extends a.ProfileProvider{constructor(e){super(),this.translate=e,this.id="rdp",this.name="RDP",this.supportsQuickConnect=!0,this.settingsComponent=null}async getBuiltinProfiles(){return[]}async getNewTabParameters(e){return{type:c.RdpTabComponent,inputs:{profile:e}}}getDescription(e){const t=e.options;if(!t?.host)return"";const o=t.username||"",n=t.host,i=t.port||3389;return`${o?`${o}@`:""}${n}${3389!==i?":"+i:""}`}quickConnect(e){let t,o=e,n=3389;if(o.startsWith("rdp://")&&(o=o.substring(6)),o.includes("@")){const e=o.split("@");t=e[0],o=e[1]}if(o.includes(":")){const e=o.split(":");o=e[0],n=parseInt(e[1],10)||3389}return{name:e,type:"rdp",options:{host:o,port:n,username:t}}}deleteProfile(e){}};t.RDPProfileProvider=l,t.RDPProfileProvider=l=i([(0,s.Injectable)(),r("design:paramtypes",["function"==typeof(n=void 0!==a.TranslateService&&a.TranslateService)?n:Object])],l)},684(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.AioSettingsTabProvider=void 0;const i=o(430),r=o(262),s=o(52);let a=class extends r.SettingsTabProvider{constructor(){super(...arguments),this.id="mingze-sidebar-aio",this.icon="globe",this.title="Connection Sidebar"}getComponentType(){return s.SettingsTabComponent}};t.AioSettingsTabProvider=a,t.AioSettingsTabProvider=a=n([(0,i.Injectable)()],a)},462(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RdpService=void 0;const r=o(430),s=o(368),a=o(903);let c=class{constructor(e,t,o,n){this.hostApp=e,this.platform=t,this.notifications=o,this.config=n,this.lastLaunchAt=new Map}launch(e){if(this.hostApp.platform!==s.Platform.Windows)return void this.notifications.error("RDP is only supported on Windows (mstsc.exe)");const t=this.normalizeOptions(e.options);if(!t.host)return void this.notifications.error("Invalid RDP host");const n=`${t.host}:${t.port}`;if(this.isRapidRepeatLaunch(n))return;const i=this.buildLaunchArgs(t);if(0===i.length)return void this.notifications.error("Failed to prepare RDP launch arguments");const r=this.getClientPath(),{spawn:a}=o(646),c=a(r,i,{detached:!0,stdio:"ignore",windowsHide:!0});c.on("error",()=>{this.notifications.error(`Failed to launch ${r}`)}),c.unref()}isActive(e){const t=this.normalizeOptions(e.options);if(!t.host)return!1;const o=`${t.host}:${t.port}`,n=this.lastLaunchAt.get(o);return!!n&&Date.now()-n<36e5}buildLaunchArgs(e){const t=this.writeTempRdpFile(this.buildRdpFileContent(e));return this.cleanupTempFileLater(t),[t]}buildRdpFileContent(e){const t=this.resolveDesktopSize(e),o=[`full address:s:${e.host}:${e.port||3389}`];return e.username&&o.push(`username:s:${e.username}`),e.domain&&o.push(`domain:s:${e.domain}`),e.fullscreen?o.push("screen mode id:i:2"):(o.push("screen mode id:i:1"),o.push("desktop size id:i:0"),o.push("dynamic resolution:i:1"),o.push("smart sizing:i:0"),t.width&&o.push(`desktopwidth:i:${t.width}`),t.height&&o.push(`desktopheight:i:${t.height}`)),e.admin&&o.push("administrative session:i:1"),o.join("\r\n")+"\r\n"}resolveDesktopSize(e){if(e.fullscreen)return{};const t=this.normalizeDimension(e.width),o=this.normalizeDimension(e.height),n=this.getPreferredWindowSize();return{width:t||n.width,height:o||n.height}}getPreferredWindowSize(){let e=1600,t=900;try{if("undefined"!=typeof window&&window.screen){const o=window.screen.availWidth||window.screen.width,n=window.screen.availHeight||window.screen.height,i=this.normalizeDimension(Math.floor(.9*o)),r=this.normalizeDimension(Math.floor(.9*n));i&&(e=i),r&&(t=r)}}catch{}return{width:e,height:t}}writeTempRdpFile(e){const t=o(820),n=o(873),i=o(21),r=t.tmpdir(),s=`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,a=n.join(r,`tabby-rdp-${s}.rdp`);return i.writeFileSync(a,e,"utf-8"),a}cleanupTempFileLater(e){setTimeout(()=>{try{o(21).unlinkSync(e)}catch{}},12e4)}isRapidRepeatLaunch(e){const t=Date.now(),o=this.lastLaunchAt.get(e)||0;return this.lastLaunchAt.set(e,t),t-o<1500}normalizeOptions(e){const t=(e.host||"").replace(/[\r\n]+/g,"").trim(),o={...e,host:t,port:this.normalizePort(e.port),username:this.sanitizeText(e.username),domain:this.sanitizeText(e.domain),width:this.normalizeDimension(e.width),height:this.normalizeDimension(e.height)};return o.fullscreen&&(o.width=void 0,o.height=void 0),o}sanitizeText(e){if(e)return e.replace(/[\r\n]+/g,"").trim()||void 0}normalizePort(e){const t=Number(e||3389);if(!Number.isFinite(t))return 3389;const o=Math.round(t);return o<1||o>65535?3389:o}normalizeDimension(e){if(null==e||0===e)return;const t=Number(e);if(!Number.isFinite(t))return;const o=Math.round(t);return o<640||o>8192?void 0:o}getClientPath(){return this.config.store[a.CONFIG_KEY]?.rdpClientPath||"mstsc.exe"}generateRdpFileContent(e){return this.buildRdpFileContent(this.normalizeOptions(e.options))}};t.RdpService=c,t.RdpService=c=n([(0,r.Injectable)({providedIn:"root"}),i("design:paramtypes",[s.HostAppService,s.PlatformService,s.NotificationsService,s.ConfigService])],c)},452(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarService=void 0;const r=o(430),s=o(368),a=o(540),c=o(991),l=o(903);let p=class{constructor(e,t,o,n){this.cfr=e,this.appRef=t,this.injector=o,this.config=n,this.componentRef=null,this.wrapperEl=null,this.styleEl=null,this.isVisible=!1}get visible(){return this.isVisible}get cfg(){return this.config.store[l.CONFIG_KEY]||{}}get width(){return this.cfg.width||280}get position(){return this.cfg.position||"left"}initialize(){!1!==this.cfg.sidebarVisible&&this.show()}show(){this.isVisible||(this.create(),this.saveField("sidebarVisible",!0),this.isVisible=!0)}hide(){this.isVisible&&(this.destroy(),this.saveField("sidebarVisible",!1),this.isVisible=!1)}toggle(){this.isVisible?this.hide():this.show()}openRdpModal(e){const t=this.cfr.resolveComponentFactory(c.RdpEditModalComponent).create(this.injector);e&&(t.instance.profileId=e),this.appRef.attachView(t.hostView);const o=t.hostView.rootNodes[0];document.body.appendChild(o);const n=()=>{this.appRef.detachView(t.hostView),t.destroy()};t.instance.saved.subscribe(n),t.instance.cancelled.subscribe(n)}create(){const e=document.querySelector("app-root");if(!e)return;const t=this.cfr.resolveComponentFactory(a.SidebarComponent);this.componentRef=t.create(this.injector),this.appRef.attachView(this.componentRef.hostView);const o=this.componentRef.hostView.rootNodes[0],n=this.width,i=this.position,r=document.createElement("div");r.className="aio-sidebar-wrapper",r.style.cssText=`\n            width: ${n}px;\n            flex: 0 0 ${n}px;\n            display: flex;\n            flex-direction: column;\n            background: var(--bs-body-bg, #1e1e1e);\n            border-${"left"===i?"right":"left"}: 1px solid var(--bs-border-color, #333);\n            z-index: 999;\n            order: ${"left"===i?-1:999};\n        `,r.appendChild(o),"left"===i?e.insertBefore(r,e.firstChild):e.appendChild(r),this.wrapperEl=r,this.injectCSS(),this.fixContentWidth(e),this.componentRef.instance.sidebarService=this}destroy(){const e=document.querySelector("app-root");e&&this.restoreContentWidth(e),this.removeCSS(),this.componentRef&&(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.componentRef=null),this.wrapperEl&&(this.wrapperEl.remove(),this.wrapperEl=null)}injectCSS(){const e=document.createElement("style");e.id="aio-sidebar-layout-css",e.textContent='\n            app-root {\n                display: flex !important;\n                flex-direction: row !important;\n                width: 100vw !important;\n                height: 100vh !important;\n                overflow: hidden !important;\n            }\n            app-root > .content,\n            app-root > div.content,\n            app-root > .content[class],\n            app-root > [class*="content"] {\n                flex: 1 1 auto !important;\n                width: 0 !important;\n                max-width: 100% !important;\n                min-width: 0 !important;\n            }\n        ',document.head.appendChild(e),this.styleEl=e}removeCSS(){this.styleEl&&(this.styleEl.remove(),this.styleEl=null)}fixContentWidth(e){const t=e.querySelectorAll(".content"),o=t.length>1?t[1]:t[0];if(o){const e=o;e.style.width="auto",e.style.flex="1 1 auto",e.style.minWidth="0"}}restoreContentWidth(e){const t=e.querySelectorAll(".content"),o=t.length>1?t[1]:t[0];if(o){const e=o;e.style.removeProperty("width"),e.style.removeProperty("flex"),e.style.removeProperty("min-width")}}saveField(e,t){this.config.store[l.CONFIG_KEY]||(this.config.store[l.CONFIG_KEY]={}),this.config.store[l.CONFIG_KEY][e]=t,this.config.save()}};t.SidebarService=p,t.SidebarService=p=n([(0,r.Injectable)({providedIn:"root"}),i("design:paramtypes",[r.ComponentFactoryResolver,r.ApplicationRef,r.Injector,s.ConfigService])],p)},804(e){"use strict";e.exports=require("@angular/common")},430(e){"use strict";e.exports=require("@angular/core")},59(e){"use strict";e.exports=require("@angular/forms")},646(e){"use strict";e.exports=require("child_process")},21(e){"use strict";e.exports=require("fs")},820(e){"use strict";e.exports=require("os")},873(e){"use strict";e.exports=require("path")},607(e){"use strict";e.exports=require("rxjs")},437(e){"use strict";e.exports=require("rxjs/operators")},368(e){"use strict";e.exports=require("tabby-core")},262(e){"use strict";e.exports=require("tabby-settings")}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={id:n,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=o(440);module.exports=n})();